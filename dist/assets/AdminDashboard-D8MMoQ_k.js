import{r as C,j as e,D as N,a as p,b as v,d as w,e as D,L as g,I as u,B as j,Q as F,U as T,V as A,l as B,m as _,n as f,o as n,p as k,q as c,W as S}from"./index-DLRFQSPt.js";function L({isOpen:i,onClose:r,onSubmit:x}){const[o,m]=C.useState({className:"",days:"",classTimings:""}),[h,t]=C.useState(null);C.useEffect(()=>{i&&(m({className:"",days:"",classTimings:""}),t(null))},[i]);const d=(l,s)=>{m(a=>({...a,[l]:s}))},b=()=>{if(!o.className.trim()){t("Class name is required.");return}if(!o.days.trim()){t("Days is required.");return}if(!o.classTimings.trim()){t("Class timings is required.");return}t(null),x(o),r()},y=()=>{r()};return e.jsx(N,{open:i,onOpenChange:r,children:e.jsxs(p,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",style:{backgroundColor:"white"},children:[e.jsxs(v,{children:[e.jsx(w,{style:{color:"#3C3C3C"},children:"Add New Class"}),e.jsx(D,{style:{color:"#6C757D"},children:"Fill in the details for the new class."})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 py-4",children:[e.jsxs("div",{children:[e.jsx(g,{htmlFor:"className",style:{color:"#3C3C3C"},children:"Class Name"}),e.jsx(u,{id:"className",type:"text",value:o.className,onChange:l=>d("className",l.target.value),className:"bg-white border-2 focus:outline-none",style:{borderColor:"#BDC3C7",color:"#3C3C3C"},onFocus:l=>l.target.style.borderColor="#e65039",onBlur:l=>l.target.style.borderColor="#BDC3C7",placeholder:"Enter class name..."})]}),e.jsxs("div",{children:[e.jsx(g,{htmlFor:"days",style:{color:"#3C3C3C"},children:"Days"}),e.jsx(u,{id:"days",type:"text",value:o.days,onChange:l=>d("days",l.target.value),className:"bg-white border-2 focus:outline-none",style:{borderColor:"#BDC3C7",color:"#3C3C3C"},onFocus:l=>l.target.style.borderColor="#e65039",onBlur:l=>l.target.style.borderColor="#BDC3C7",placeholder:"e.g., Monday, Wednesday, Friday"})]}),e.jsxs("div",{children:[e.jsx(g,{htmlFor:"classTimings",style:{color:"#3C3C3C"},children:"Class Timings"}),e.jsx(u,{id:"classTimings",type:"text",value:o.classTimings,onChange:l=>d("classTimings",l.target.value),className:"bg-white border-2 focus:outline-none",style:{borderColor:"#BDC3C7",color:"#3C3C3C"},onFocus:l=>l.target.style.borderColor="#e65039",onBlur:l=>l.target.style.borderColor="#BDC3C7",placeholder:"e.g., 9:00 AM - 11:00 AM"})]}),h&&e.jsx("div",{className:"text-sm text-red-500 bg-red-50 p-3 rounded border border-red-200",children:h})]}),e.jsxs("div",{className:"flex justify-center space-x-4 pt-4",children:[e.jsx(j,{onClick:y,className:"px-8 py-2 font-medium border-2 transition-all duration-200 hover:opacity-90",style:{backgroundColor:"white",borderColor:"#BDC3C7",color:"#3C3C3C"},children:"Cancel"}),e.jsx(j,{onClick:b,className:"px-8 py-2 font-medium transition-all duration-200 hover:opacity-90",style:{backgroundColor:"#e65039",color:"white",borderColor:"#e65039"},children:"Add Class"})]})]})})}function E({onClassClick:i}){const{data:r}=F(),x=T(),[o,m]=C.useState(""),[h,t]=C.useState(!1),d=r==null?void 0:r.filter(s=>s.name.toLowerCase().includes(o.toLowerCase())||s.days.toLowerCase().includes(o.toLowerCase())),b=async s=>{try{await x.mutateAsync(s),t(!1)}catch(a){console.error("Error creating class:",a)}},y=()=>{t(!0)},l=()=>{t(!1)};return e.jsxs("div",{className:"flex-1 px-6 py-8",style:{backgroundColor:"#F8F9FA"},children:[e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-bold mb-2",style:{color:"#3C3C3C"},children:["Hi, ",localStorage.getItem("name")]}),e.jsx("div",{className:"w-16 h-1 rounded",style:{backgroundColor:"#FF8C42"}})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border-l-4",style:{borderLeftColor:"#e65039"},children:[e.jsx("h3",{className:"font-medium mb-2",style:{color:"#3C3C3C"},children:"Total Classes"}),e.jsx("div",{className:"text-3xl font-bold",style:{color:"#e65039"},children:r==null?void 0:r.length})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border-l-4",style:{borderLeftColor:"#4EAAC9"},children:[e.jsx("h3",{className:"font-medium mb-2",style:{color:"#3C3C3C"},children:"Total Students"}),e.jsx("div",{className:"text-3xl font-bold",style:{color:"#4EAAC9"},children:r==null?void 0:r.reduce((s,a)=>s+a.number_of_students,0)})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border-l-4",style:{borderLeftColor:"#FF8C42"},children:[e.jsx("h3",{className:"font-medium mb-2",style:{color:"#3C3C3C"},children:"Total Staff"}),e.jsx("div",{className:"text-3xl font-bold",style:{color:"#FF8C42"},children:r==null?void 0:r.reduce((s,a)=>s+a.number_of_team_members+a.number_of_cts,0)})]})]}),e.jsx("div",{className:"flex justify-start mb-6",children:e.jsxs("div",{className:"relative w-full sm:w-96",children:[e.jsx(A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4",style:{color:"#6C757D"}}),e.jsx(u,{type:"text",placeholder:"Search classes...",value:o,onChange:s=>m(s.target.value),className:"pl-10 pr-4 py-2 w-full border-2 rounded-none focus:outline-none",style:{backgroundColor:"white",borderColor:"#BDC3C7",color:"#3C3C3C"},onFocus:s=>s.target.style.borderColor="#e65039",onBlur:s=>s.target.style.borderColor="#BDC3C7"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden mb-6",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(B,{children:[e.jsx(_,{children:e.jsxs(f,{className:"border-b-2",style:{borderColor:"#BDC3C7",backgroundColor:"#F8F9FA"},children:[e.jsx(n,{style:{color:"#3C3C3C"},children:"No"}),e.jsx(n,{style:{color:"#3C3C3C"},children:"Name"}),e.jsx(n,{style:{color:"#3C3C3C"},children:"Days"}),e.jsx(n,{style:{color:"#3C3C3C"},children:"Class timing"}),e.jsx(n,{style:{color:"#3C3C3C"},children:"Number of students"}),e.jsx(n,{style:{color:"#3C3C3C"},children:"Number of Team member"}),e.jsx(n,{style:{color:"#3C3C3C"},children:"Number of CTs"})]})}),e.jsx(k,{children:d==null?void 0:d.map((s,a)=>e.jsxs(f,{className:`${a<d.length-1?"border-b":""} hover:bg-gray-50 transition-colors`,style:{borderColor:"#BDC3C7"},children:[e.jsx(c,{style:{color:"#3C3C3C"},children:s.id}),e.jsx(c,{className:"font-medium",children:e.jsx("button",{onClick:()=>i(s),className:"hover:underline transition-all duration-200",style:{color:"#e65039"},children:s.name})}),e.jsx(c,{style:{color:"#3C3C3C"},children:s.days}),e.jsx(c,{style:{color:"#3C3C3C"},children:s.class_timing}),e.jsx(c,{style:{color:"#3C3C3C"},className:"text-center",children:s.number_of_students}),e.jsx(c,{style:{color:"#3C3C3C"},className:"text-center",children:s.number_of_team_members}),e.jsx(c,{style:{color:"#3C3C3C"},className:"text-center",children:s.number_of_cts})]},s.id))})]})})}),e.jsx("div",{className:"flex justify-end mb-6",children:e.jsxs(j,{onClick:y,className:"px-6 py-2 font-medium transition-all duration-200 hover:opacity-90 flex items-center space-x-2",style:{backgroundColor:"#e65039",color:"white",borderColor:"#e65039"},children:[e.jsx(S,{className:"w-4 h-4"}),e.jsx("span",{children:"Add Class"})]})})]}),e.jsx(L,{isOpen:h,onClose:l,onSubmit:b})]})}export{E as AdminDashboard};
