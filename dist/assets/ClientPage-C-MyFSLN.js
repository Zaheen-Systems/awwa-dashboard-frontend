import{r as x,j as e,k as T,l as L,m as y,n as s,o as O,p as o,D as g,M as j,a as b,b as f,d as N,e as w,B as a,N as A,Q as G,O as R}from"./index-yY4tkBTS.js";import{C as H}from"./camera-DXFt9t8s.js";import{U as m}from"./upload-BQ3yuXU5.js";import{D as I,F as M}from"./file-spreadsheet-B9a669EU.js";const D=[{id:1,name:"Aaron Kumar",age:24,gender:"M",idNumber:"S0001",primaryDiagnosis:"Speech and Language Difficulty",secondaryDiagnosis:"Speech and Language Difficulty",dateOfEnrollment:"21.01.2020",photoUrl:"",email:"aaron.kumar@example.com",dob:"1999-03-15",guardianName:"Priya Kumar",guardianContact:"+65 9123 4567"},{id:2,name:"Mei Ling Tan",age:28,gender:"F",idNumber:"S0002",primaryDiagnosis:"Speech and Language Difficulty",secondaryDiagnosis:"Speech and Language Difficulty",dateOfEnrollment:"03.07.2021",photoUrl:"",email:"meiling.tan@example.com",dob:"1995-11-22",guardianName:"David Tan",guardianContact:"+65 8765 4321"}];function q({onEditClient:C,onAddClient:p}){const[r,v]=x.useState(null),[k,d]=x.useState(!1),[c,h]=x.useState(null),F=l=>{v({name:l,hasPhoto:!1,photoUrl:void 0})},U=()=>{const l=`Name,Age,Gender,ID Number,Primary Diagnosis,Secondary Diagnosis,Date of Enrollment,Email,DOB,Guardian Name,Guardian Contact
John Doe,25,M,CL001,Speech and Language,,2024-01-15,john@example.com,1999-03-15,Jane Doe,+65 9123 4567`,n=new Blob([l],{type:"text/csv"}),t=window.URL.createObjectURL(n),i=document.createElement("a");i.href=t,i.download="clients_template.csv",i.click(),window.URL.revokeObjectURL(t)},u=()=>{const l=document.createElement("input");l.type="file",l.accept=".xlsx,.xls,.csv",l.style.display="none",l.onchange=n=>{var i;const t=(i=n.target.files)==null?void 0:i[0];t&&(console.log("Excel file selected:",t.name),h(t))},document.body.appendChild(l),l.click(),document.body.removeChild(l)},E=()=>{c&&(console.log("Processing client bulk upload for file:",c.name),h(null),d(!1))},P=(l,n)=>{n.stopPropagation(),C&&C(l)},S=()=>{p&&p()},B=()=>{h(null),d(!1)};return e.jsx("div",{className:"flex-1 px-6 py-8",style:{backgroundColor:"#F8F9FA"},children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsx("h2",{className:"text-2xl font-bold",style:{color:"#3C3C3C"},children:"Clients"})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden mb-6",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(T,{children:[e.jsx(L,{children:e.jsxs(y,{className:"border-b-2",style:{borderColor:"#BDC3C7",backgroundColor:"#F8F9FA"},children:[e.jsx(s,{style:{color:"#3C3C3C"},children:"No."}),e.jsx(s,{style:{color:"#3C3C3C"},children:"Name"}),e.jsx(s,{style:{color:"#3C3C3C"},children:"Age"}),e.jsx(s,{style:{color:"#3C3C3C"},children:"Gender"}),e.jsx(s,{style:{color:"#3C3C3C"},children:"ID"}),e.jsx(s,{style:{color:"#3C3C3C"},children:"Primary Diagnosis"}),e.jsx(s,{style:{color:"#3C3C3C"},children:"Secondary Diagnosis"}),e.jsx(s,{style:{color:"#3C3C3C"},children:"Date of Enrollment"}),e.jsx(s,{style:{color:"#3C3C3C"},children:"Photo"}),e.jsx(s,{style:{color:"#3C3C3C"},children:"Edit"})]})}),e.jsx(O,{children:D.map((l,n)=>e.jsxs(y,{className:`${n<D.length-1?"border-b":""} hover:bg-gray-50 transition-colors`,style:{borderColor:"#BDC3C7"},children:[e.jsx(o,{style:{color:"#3C3C3C"},children:n+1}),e.jsx(o,{style:{color:"#3C3C3C"},children:l.name}),e.jsx(o,{style:{color:"#3C3C3C"},children:l.age}),e.jsx(o,{style:{color:"#3C3C3C"},children:l.gender}),e.jsx(o,{style:{color:"#3C3C3C"},children:l.idNumber}),e.jsx(o,{style:{color:"#3C3C3C"},children:l.primaryDiagnosis}),e.jsx(o,{style:{color:"#3C3C3C"},children:l.secondaryDiagnosis}),e.jsx(o,{style:{color:"#3C3C3C"},children:l.dateOfEnrollment}),e.jsx(o,{className:"text-center",children:e.jsxs(g,{children:[e.jsx(j,{asChild:!0,children:e.jsx("button",{className:"w-10 h-8 border border-red-500 bg-red-50 flex items-center justify-center hover:bg-red-100 transition-colors rounded",onClick:()=>F(l.name),title:`View/Upload photo for ${l.name}`,children:e.jsx(H,{className:"w-4 h-4",style:{color:"#DC3545"}})})}),e.jsx(b,{className:"max-w-md mx-auto bg-white rounded-lg shadow-xl border-2 p-6",style:{borderColor:"#BDC3C7",backgroundColor:"white"},children:r&&e.jsxs(e.Fragment,{children:[e.jsxs(f,{className:"pb-4 text-left",children:[e.jsxs(N,{className:"text-lg font-bold",style:{color:"#3C3C3C"},children:[r.name," - Photo"]}),e.jsxs(w,{className:"text-sm mt-2",style:{color:"#6C757D"},children:["View the photo for ",r.name,". Click outside to close this dialog."]})]}),e.jsx("div",{className:"flex justify-center py-6",children:e.jsx("div",{className:"rounded-lg flex items-center justify-center overflow-hidden",style:{backgroundColor:"#E8F4F8"},children:r.hasPhoto&&r.photoUrl?e.jsx("img",{src:r.photoUrl,alt:`Photo of ${r.name}`,className:"max-w-full h-auto rounded-lg",style:{maxHeight:"300px",maxWidth:"300px"}}):e.jsx("img",{src:"/placeholder-user.png",alt:"No photo available",className:"max-w-full h-auto",style:{maxHeight:"300px"}})})}),e.jsxs("div",{className:"flex justify-center space-x-3 pt-4",children:[e.jsxs(a,{className:"px-4 py-2 rounded-lg transition-all duration-200 hover:opacity-90",style:{backgroundColor:"#e65039",color:"white",border:"none"},children:[e.jsx(m,{className:"w-4 h-4 mr-2"}),"Upload New Photo"]}),r.hasPhoto&&e.jsx(a,{variant:"outline",className:"px-4 py-2 rounded-lg border-2 transition-all duration-200 hover:opacity-90",style:{borderColor:"#DC3545",color:"#DC3545",backgroundColor:"white"},children:"Remove Photo"})]})]})})]})}),e.jsx(o,{children:e.jsx(a,{onClick:t=>P(l,t),className:"p-1 border rounded transition-all duration-200 hover:opacity-90",style:{backgroundColor:"white",borderColor:"#BDC3C7",color:"#3C3C3C"},children:e.jsx(A,{className:"w-4 h-4"})})})]},l.id))})]})})}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsxs(g,{open:k,onOpenChange:d,children:[e.jsx(j,{asChild:!0,children:e.jsxs(a,{className:"flex items-center space-x-2 px-6 py-2 transition-all duration-200 hover:opacity-90",style:{backgroundColor:"#e65039",color:"white",border:"none"},children:[e.jsx(m,{className:"w-4 h-4"}),e.jsx("span",{children:"Upload"})]})}),e.jsxs(b,{className:"max-w-md",style:{backgroundColor:"white"},children:[e.jsxs(f,{children:[e.jsx(N,{className:"text-lg font-bold",style:{color:"#3C3C3C"},children:"Bulk Upload Clients"}),e.jsx(w,{className:"text-sm",style:{color:"#6C757D"},children:"Upload multiple clients at once using an Excel file. Follow the two-step process below."})]}),e.jsxs("div",{className:"space-y-6 p-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-medium",style:{color:"#3C3C3C"},children:"Step 1: Download Template"}),e.jsxs(a,{onClick:U,className:"w-full flex items-center space-x-2 border-2 px-4 py-2 transition-all duration-200 hover:bg-blue-50",style:{backgroundColor:"white",borderColor:"#e65039",color:"#e65039"},children:[e.jsx(I,{className:"w-4 h-4"}),e.jsx("span",{children:"Download Excel Template"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-medium",style:{color:"#3C3C3C"},children:"Step 2: Upload Completed File"}),c?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"p-3 border rounded-lg",style:{borderColor:"#BDC3C7",backgroundColor:"#F8F9FA"},children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(M,{className:"w-5 h-5",style:{color:"#e65039"}}),e.jsx("span",{className:"text-sm font-medium",style:{color:"#3C3C3C"},children:c.name})]}),e.jsxs("p",{className:"text-xs mt-1",style:{color:"#6C757D"},children:[(c.size/1024).toFixed(1)," KB"]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(a,{onClick:u,className:"flex-1 border-2 px-4 py-2 transition-all duration-200 hover:bg-blue-50",style:{backgroundColor:"white",borderColor:"#e65039",color:"#e65039"},children:"Change File"}),e.jsx(a,{onClick:E,className:"flex-1 px-4 py-2 transition-all duration-200 hover:opacity-90",style:{backgroundColor:"#e65039",color:"white",border:"none"},children:"Upload"})]})]}):e.jsxs(a,{onClick:u,className:"w-full border-2 border-dashed px-6 py-6 transition-all duration-200 hover:bg-blue-50 flex flex-col items-center justify-center space-y-3 min-h-[120px]",style:{backgroundColor:"white",borderColor:"#e65039",color:"#e65039"},children:[e.jsx(m,{className:"w-6 h-6 flex-shrink-0"}),e.jsxs("div",{className:"text-center space-y-1 max-w-full",children:[e.jsx("p",{className:"font-medium text-sm leading-tight",children:"Choose Excel File"}),e.jsx("p",{className:"text-xs leading-tight break-words",style:{color:"#6C757D"},children:"Supports .xlsx, .xls, .csv files"})]})]})]}),e.jsx("div",{className:"bg-yellow-100 p-3 border-l-4",style:{borderColor:"#FF8C42"},children:e.jsxs("p",{className:"text-xs",style:{color:"#3C3C3C"},children:[e.jsx("strong",{children:"Note:"})," The Excel file should contain columns for Name, Age, Gender, ID Number, Primary Diagnosis, Secondary Diagnosis, Date of Enrollment, Email, DOB, Guardian Name, and Guardian Contact."]})})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(G,{asChild:!0,children:e.jsx(a,{onClick:B,className:"px-4 py-2",style:{backgroundColor:"#BDC3C7",color:"white",border:"none"},children:"Cancel"})})})]})]}),e.jsxs(a,{onClick:S,className:"flex items-center space-x-2 px-6 py-2 transition-all duration-200 hover:opacity-90",style:{backgroundColor:"#e65039",color:"white",border:"none"},children:[e.jsx(R,{className:"w-4 h-4"}),e.jsx("span",{children:"Add Clients"})]})]})]})})}export{q as ClientPage};
