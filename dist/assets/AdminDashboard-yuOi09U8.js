import{r as h,j as e,D as p,a as v,b as w,d as D,e as F,L as j,I as x,B as f,U as T,V as A,t as B,W as _,l as k,m as S,n as N,o as d,p as L,q as c,X as M}from"./index-DBWuzrFm.js";function E({isOpen:m,onClose:r,onSubmit:y}){const[o,i]=h.useState({className:"",days:"",classTimings:""}),[u,t]=h.useState(null);h.useEffect(()=>{m&&(i({className:"",days:"",classTimings:""}),t(null))},[m]);const n=(l,g)=>{i(s=>({...s,[l]:g}))},C=()=>{if(!o.className.trim()){t("Class name is required.");return}if(!o.days.trim()){t("Days is required.");return}if(!o.classTimings.trim()){t("Class timings is required.");return}t(null),y(o),r()},b=()=>{r()};return e.jsx(p,{open:m,onOpenChange:r,children:e.jsxs(v,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",style:{backgroundColor:"white"},children:[e.jsxs(w,{children:[e.jsx(D,{style:{color:"#3C3C3C"},children:"Add New Class"}),e.jsx(F,{style:{color:"#6C757D"},children:"Fill in the details for the new class."})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 py-4",children:[e.jsxs("div",{children:[e.jsx(j,{htmlFor:"className",style:{color:"#3C3C3C"},children:"Class Name"}),e.jsx(x,{id:"className",type:"text",value:o.className,onChange:l=>n("className",l.target.value),className:"bg-white border-2 focus:outline-none",style:{borderColor:"#BDC3C7",color:"#3C3C3C"},onFocus:l=>l.target.style.borderColor="#e65039",onBlur:l=>l.target.style.borderColor="#BDC3C7",placeholder:"Enter class name..."})]}),e.jsxs("div",{children:[e.jsx(j,{htmlFor:"days",style:{color:"#3C3C3C"},children:"Days"}),e.jsx(x,{id:"days",type:"text",value:o.days,onChange:l=>n("days",l.target.value),className:"bg-white border-2 focus:outline-none",style:{borderColor:"#BDC3C7",color:"#3C3C3C"},onFocus:l=>l.target.style.borderColor="#e65039",onBlur:l=>l.target.style.borderColor="#BDC3C7",placeholder:"e.g., Monday, Wednesday, Friday"})]}),e.jsxs("div",{children:[e.jsx(j,{htmlFor:"classTimings",style:{color:"#3C3C3C"},children:"Class Timings"}),e.jsx(x,{id:"classTimings",type:"text",value:o.classTimings,onChange:l=>n("classTimings",l.target.value),className:"bg-white border-2 focus:outline-none",style:{borderColor:"#BDC3C7",color:"#3C3C3C"},onFocus:l=>l.target.style.borderColor="#e65039",onBlur:l=>l.target.style.borderColor="#BDC3C7",placeholder:"e.g., 9:00 AM - 11:00 AM"})]}),u&&e.jsx("div",{className:"text-sm text-red-500 bg-red-50 p-3 rounded border border-red-200",children:u})]}),e.jsxs("div",{className:"flex justify-center space-x-4 pt-4",children:[e.jsx(f,{onClick:b,className:"px-8 py-2 font-medium border-2 transition-all duration-200 hover:opacity-90",style:{backgroundColor:"white",borderColor:"#BDC3C7",color:"#3C3C3C"},children:"Cancel"}),e.jsx(f,{onClick:C,className:"px-8 py-2 font-medium transition-all duration-200 hover:opacity-90",style:{backgroundColor:"#e65039",color:"white",borderColor:"#e65039"},children:"Add Class"})]})]})})}function H({onClassClick:m}){const{data:r}=T(),y=A(),o=B(),[i,u]=h.useState(""),[t,n]=h.useState(!1),C=r==null?void 0:r.filter(s=>s.name.toLowerCase().includes(i.toLowerCase())||s.days.toLowerCase().includes(i.toLowerCase())),b=async s=>{try{await y.mutateAsync(s),n(!1),o.invalidateQueries({queryKey:["classes"]})}catch(a){console.error("Error creating class:",a)}},l=()=>{n(!0)},g=()=>{n(!1)};return e.jsxs("div",{className:"flex-1 px-6 py-8",style:{backgroundColor:"#F8F9FA"},children:[e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-bold mb-2",style:{color:"#3C3C3C"},children:["Hi, ",localStorage.getItem("name")]}),e.jsx("div",{className:"w-16 h-1 rounded",style:{backgroundColor:"#FF8C42"}})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border-l-4",style:{borderLeftColor:"#e65039"},children:[e.jsx("h3",{className:"font-medium mb-2",style:{color:"#3C3C3C"},children:"Total Classes"}),e.jsx("div",{className:"text-3xl font-bold",style:{color:"#e65039"},children:r==null?void 0:r.length})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border-l-4",style:{borderLeftColor:"#4EAAC9"},children:[e.jsx("h3",{className:"font-medium mb-2",style:{color:"#3C3C3C"},children:"Total Students"}),e.jsx("div",{className:"text-3xl font-bold",style:{color:"#4EAAC9"},children:r==null?void 0:r.reduce((s,a)=>s+a.number_of_students,0)})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border-l-4",style:{borderLeftColor:"#FF8C42"},children:[e.jsx("h3",{className:"font-medium mb-2",style:{color:"#3C3C3C"},children:"Total Staff"}),e.jsx("div",{className:"text-3xl font-bold",style:{color:"#FF8C42"},children:r==null?void 0:r.reduce((s,a)=>s+a.number_of_team_members+a.number_of_cts,0)})]})]}),e.jsx("div",{className:"flex justify-start mb-6",children:e.jsxs("div",{className:"relative w-full sm:w-96",children:[e.jsx(_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4",style:{color:"#6C757D"}}),e.jsx(x,{type:"text",placeholder:"Search classes...",value:i,onChange:s=>u(s.target.value),className:"pl-10 pr-4 py-2 w-full border-2 rounded-none focus:outline-none",style:{backgroundColor:"white",borderColor:"#BDC3C7",color:"#3C3C3C"},onFocus:s=>s.target.style.borderColor="#e65039",onBlur:s=>s.target.style.borderColor="#BDC3C7"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden mb-6",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(k,{children:[e.jsx(S,{children:e.jsxs(N,{className:"border-b-2",style:{borderColor:"#BDC3C7",backgroundColor:"#F8F9FA"},children:[e.jsx(d,{style:{color:"#3C3C3C"},children:"No"}),e.jsx(d,{style:{color:"#3C3C3C"},children:"Name"}),e.jsx(d,{style:{color:"#3C3C3C"},children:"Days"}),e.jsx(d,{style:{color:"#3C3C3C"},children:"Class timing"}),e.jsx(d,{style:{color:"#3C3C3C"},children:"Number of students"}),e.jsx(d,{style:{color:"#3C3C3C"},children:"Number of Team member"}),e.jsx(d,{style:{color:"#3C3C3C"},children:"Number of CTs"})]})}),e.jsx(L,{children:C==null?void 0:C.map((s,a)=>e.jsxs(N,{className:`${a<C.length-1?"border-b":""} hover:bg-gray-50 transition-colors`,style:{borderColor:"#BDC3C7"},children:[e.jsx(c,{style:{color:"#3C3C3C"},children:s.id}),e.jsx(c,{className:"font-medium",children:e.jsx("button",{onClick:()=>m(s),className:"hover:underline transition-all duration-200",style:{color:"#e65039"},children:s.name.replace(/,/g,", ")})}),e.jsx(c,{style:{color:"#3C3C3C"},children:s.days}),e.jsx(c,{style:{color:"#3C3C3C"},children:s.class_timing}),e.jsx(c,{style:{color:"#3C3C3C"},className:"text-center",children:s.number_of_students}),e.jsx(c,{style:{color:"#3C3C3C"},className:"text-center",children:s.number_of_team_members}),e.jsx(c,{style:{color:"#3C3C3C"},className:"text-center",children:s.number_of_cts})]},s.id))})]})})}),e.jsx("div",{className:"flex justify-end mb-6",children:e.jsxs(f,{onClick:l,className:"px-6 py-2 font-medium transition-all duration-200 hover:opacity-90 flex items-center space-x-2",style:{backgroundColor:"#e65039",color:"white",borderColor:"#e65039"},children:[e.jsx(M,{className:"w-4 h-4"}),e.jsx("span",{children:"Add Class"})]})})]}),e.jsx(E,{isOpen:t,onClose:g,onSubmit:b})]})}export{H as AdminDashboard};
