import{c as ut,r as p,u as Ce,j as e,D as se,a as ne,b as oe,d as le,e as ce,L as k,I as E,T as Se,S as Z,f as ee,g as te,h as re,i as H,B,k as z,l as q,m as V,n as O,o as y,p as L,q as i,s as Ie,t as mt,v as Oe}from"./index-C_w9ghux.js";import{C as G}from"./checkbox-jS3JvHe3.js";import{A as Be}from"./arrow-left-CIgKB0ZI.js";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=ut("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);function Ct({isOpen:t,onClose:r,onSubmit:a,iepGoals:s,studentId:o}){const d=localStorage.getItem("name"),[u,g]=p.useState({date:"",action:"",trigger:"",source:"",time:"",staff:d||"",gcoClassification:"",iep_goal_id:""}),[b,D]=p.useState(null);p.useEffect(()=>{if(t){const l=localStorage.getItem("name");g({date:"",action:"",trigger:"",source:"",time:"",staff:l||"",gcoClassification:"",iep_goal_id:""})}},[t]);const w=async()=>(await z.get(`/api/students/${o}/gcos`)).data,{data:F}=Ce({queryKey:["gcoIds"],queryFn:w}),j=(l,h)=>{g(S=>({...S,[l]:h}))},P=()=>{if(!u.gcoClassification.trim()){D("GCO classification is required.");return}D(null);const l={...u,iepGoal:u.iep_goal_id==="blank"?"":u.iep_goal_id};console.log(l),a(l),r()},m=()=>{r()};return e.jsx(se,{open:t,onOpenChange:r,children:e.jsxs(ne,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",style:{backgroundColor:"white"},children:[e.jsxs(oe,{children:[e.jsx(le,{style:{color:"#3C3C3C"},children:"Add New Behavior Descriptor"}),e.jsx(ce,{style:{color:"#6C757D"},children:"Fill in the details for the new behavior descriptor entry."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 py-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(k,{htmlFor:"date",style:{color:"#3C3C3C"},children:"Date"}),e.jsx(E,{id:"date",type:"date",value:u.date,onChange:l=>j("date",l.target.value),className:"bg-white border-2 focus:outline-none",style:{borderColor:"#BDC3C7",color:"#3C3C3C"},onFocus:l=>l.target.style.borderColor="#e65039",onBlur:l=>l.target.style.borderColor="#BDC3C7"})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"action",style:{color:"#3C3C3C"},children:"Action"}),e.jsx(Se,{id:"action",value:u.action,onChange:l=>j("action",l.target.value),className:"bg-white border-2 focus:outline-none min-h-[60px] resize-none",style:{borderColor:"#BDC3C7",color:"#3C3C3C"},onFocus:l=>l.target.style.borderColor="#e65039",onBlur:l=>l.target.style.borderColor="#BDC3C7",placeholder:"Describe the action observed..."})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"trigger",style:{color:"#3C3C3C"},children:"Trigger"}),e.jsx(Se,{id:"trigger",value:u.trigger,onChange:l=>j("trigger",l.target.value),className:"bg-white border-2 focus:outline-none min-h-[60px] resize-none",style:{borderColor:"#BDC3C7",color:"#3C3C3C"},onFocus:l=>l.target.style.borderColor="#e65039",onBlur:l=>l.target.style.borderColor="#BDC3C7",placeholder:"What triggered this behavior..."})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"source",style:{color:"#3C3C3C"},children:"Source"}),e.jsx(E,{id:"source",value:u.source,onChange:l=>j("source",l.target.value),className:"bg-white border-2 focus:outline-none",style:{borderColor:"#BDC3C7",color:"#3C3C3C"},onFocus:l=>l.target.style.borderColor="#e65039",onBlur:l=>l.target.style.borderColor="#BDC3C7",placeholder:"e.g., Snack time, Free play..."})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(k,{htmlFor:"time",style:{color:"#3C3C3C"},children:"Time"}),e.jsx(E,{id:"time",type:"time",value:u.time,onChange:l=>j("time",l.target.value),className:"bg-white border-2 focus:outline-none",style:{borderColor:"#BDC3C7",color:"#3C3C3C"},onFocus:l=>l.target.style.borderColor="#e65039",onBlur:l=>l.target.style.borderColor="#BDC3C7"}),e.jsx("p",{className:"text-sm mt-1",style:{color:"#6C757D"},children:"Not mandatory"})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"staff",style:{color:"#3C3C3C"},children:"Staff"}),e.jsx(E,{id:"staff",value:u.staff,onChange:l=>j("staff",l.target.value),className:"bg-white border-2 focus:outline-none",style:{borderColor:"#BDC3C7",color:"#3C3C3C"},onFocus:l=>l.target.style.borderColor="#e65039",onBlur:l=>l.target.style.borderColor="#BDC3C7",readOnly:!0}),e.jsx("p",{className:"text-sm mt-1",style:{color:"#6C757D"},children:"Prefilled with name"})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"gcoClassification",style:{color:"#3C3C3C"},children:"GCO classification"}),e.jsxs(Z,{value:u.gcoClassification,onValueChange:l=>j("gcoClassification",l),children:[e.jsx(ee,{className:"bg-white border-2",style:{borderColor:"#BDC3C7"},children:e.jsx(te,{placeholder:"Drop down with all GCOs"})}),e.jsx(re,{className:"bg-white border border-gray-200 shadow-lg rounded-md max-h-60 overflow-y-auto",style:{backgroundColor:"white",borderColor:"#BDC3C7",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"},position:"popper",side:"bottom",align:"start",children:F==null?void 0:F.map((l,h)=>e.jsx(H,{value:l,className:"hover:bg-gray-100 focus:bg-gray-100",style:{color:"#3C3C3C"},children:l},h))})]}),b&&e.jsx("p",{className:"text-sm mt-1 text-red-500",children:b})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"iepGoal",style:{color:"#3C3C3C"},children:"IEP Goals"}),e.jsxs(Z,{value:u.iep_goal_id,onValueChange:l=>j("iep_goal_id",l),children:[e.jsx(ee,{className:"bg-white border-2",style:{borderColor:"#BDC3C7"},children:e.jsx(te,{placeholder:"Drop down with all IEP goals, include blank"})}),e.jsx(re,{className:"bg-white border border-gray-200 shadow-lg rounded-md",style:{backgroundColor:"white",borderColor:"#BDC3C7",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"},position:"popper",side:"bottom",align:"start",children:s==null?void 0:s.map((l,h)=>e.jsx(H,{value:l.id.toString(),className:"hover:bg-gray-100 focus:bg-gray-100",style:{color:"#3C3C3C"},children:l.description},h))})]})]})]})]}),e.jsxs("div",{className:"flex justify-center space-x-4 pt-4",children:[e.jsx(B,{onClick:m,className:"px-8 py-2 font-medium border-2 transition-all duration-200 hover:opacity-90",style:{backgroundColor:"white",borderColor:"#BDC3C7",color:"#3C3C3C"},children:"Cancel"}),e.jsx(B,{onClick:P,className:"px-8 py-2 font-medium transition-all duration-200 hover:opacity-90",style:{backgroundColor:"#e65039",color:"white",borderColor:"#e65039"},children:"Submit"})]})]})})}function gt({isOpen:t,onClose:r,onGenerate:a,behaviourDescriptors:s,iepBehaviourDescriptors:o}){const[d,u]=p.useState([]),[g,b]=p.useState([]);p.useEffect(()=>{if(t){const h=s.filter(x=>x.selected),S=o.filter(x=>x.selected);if(h.length>0||S.length>0){const x=[...h,...S];a(x),r();return}u([]),b([])}},[t,s,o,a,r]);const D=(h,S)=>{u(S?x=>[...x,h]:x=>x.filter(T=>T.id!==h.id))},w=(h,S)=>{b(S?x=>[...x,h]:x=>x.filter(T=>T.id!==h.id))},F=h=>d.some(S=>S.id===h.id),j=h=>g.some(S=>S.id===h.id),P=()=>{const h=[...d,...g];a(h),r()},m=()=>{r()},l=d.length+g.length;return e.jsx(se,{open:t,onOpenChange:r,children:e.jsxs(ne,{className:"max-w-[98vw] w-full max-h-[95vh] overflow-y-auto sm:max-w-[90vw] md:max-w-[85vw] lg:max-w-[80vw] xl:max-w-[75vw]",style:{backgroundColor:"white"},children:[e.jsxs(oe,{children:[e.jsx(le,{style:{color:"#3C3C3C"},children:"Select BDs to Export"}),e.jsx(ce,{style:{color:"#6C757D"},children:"Choose which behavior descriptors to include in your report."})]}),e.jsxs("div",{className:"space-y-6 py-4",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"font-medium mb-4",style:{color:"#3C3C3C"},children:["Behaviour descriptors for GCO (",d.length," selected)"]}),e.jsx("div",{className:"bg-white rounded-lg border overflow-hidden",style:{borderColor:"#BDC3C7"},children:e.jsx("div",{className:"overflow-x-auto min-w-full",children:e.jsxs(q,{className:"w-full",children:[e.jsx(V,{children:e.jsxs(O,{className:"border-b-2",style:{borderColor:"#BDC3C7",backgroundColor:"#F8F9FA"},children:[e.jsx(y,{className:"w-16 min-w-16",style:{color:"#3C3C3C"},children:"Select"}),e.jsx(y,{className:"w-24 min-w-24",style:{color:"#3C3C3C"},children:"Date"}),e.jsx(y,{className:"w-20 min-w-20",style:{color:"#3C3C3C"},children:"Time"}),e.jsx(y,{className:"w-32 min-w-32",style:{color:"#3C3C3C"},children:"Source"}),e.jsx(y,{className:"w-64 min-w-64",style:{color:"#3C3C3C"},children:"Action"}),e.jsx(y,{className:"w-64 min-w-64",style:{color:"#3C3C3C"},children:"Trigger"}),e.jsx(y,{className:"w-48 min-w-48",style:{color:"#3C3C3C"},children:"Context"}),e.jsx(y,{className:"w-20 min-w-20",style:{color:"#3C3C3C"},children:"GCO"})]})}),e.jsx(L,{children:s.map((h,S)=>{const x=F(h);return e.jsxs(O,{className:S<s.length-1?"border-b":"",style:{borderColor:"#BDC3C7",backgroundColor:x?"#4EAAC9":"transparent"},children:[e.jsx(i,{className:"text-center",children:e.jsx(G,{checked:x,onCheckedChange:T=>D(h,T),className:"border-2",style:{borderColor:x?"#e65039":"#BDC3C7",backgroundColor:x?"#e65039":"transparent"}})}),e.jsx(i,{style:{color:x?"white":"#3C3C3C"},children:h.date}),e.jsx(i,{style:{color:x?"white":"#3C3C3C"},children:h.time}),e.jsx(i,{style:{color:x?"white":"#3C3C3C"},children:h.source}),e.jsx(i,{style:{color:x?"white":"#3C3C3C"},className:"max-w-64 truncate",children:e.jsx("div",{title:h.action,children:h.action})}),e.jsx(i,{style:{color:x?"white":"#3C3C3C"},className:"max-w-64 truncate",children:e.jsx("div",{title:h.trigger,children:h.trigger})}),e.jsx(i,{style:{color:x?"white":"#3C3C3C"},className:"max-w-48 truncate",children:e.jsx("div",{title:h.context,children:h.context})}),e.jsx(i,{style:{color:x?"white":"#3C3C3C"},children:h.gco_classification})]},h.id)})})]})})})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-medium mb-4",style:{color:"#3C3C3C"},children:["Behaviour descriptors for IEP (",g.length," selected)"]}),e.jsx("div",{className:"bg-white rounded-lg border overflow-hidden",style:{borderColor:"#BDC3C7"},children:e.jsx("div",{className:"overflow-x-auto min-w-full",children:e.jsxs(q,{className:"w-full",children:[e.jsx(V,{children:e.jsxs(O,{className:"border-b-2",style:{borderColor:"#BDC3C7",backgroundColor:"#F8F9FA"},children:[e.jsx(y,{className:"w-16 min-w-16",style:{color:"#3C3C3C"},children:"Select"}),e.jsx(y,{className:"w-24 min-w-24",style:{color:"#3C3C3C"},children:"Date"}),e.jsx(y,{className:"w-20 min-w-20",style:{color:"#3C3C3C"},children:"Time"}),e.jsx(y,{className:"w-32 min-w-32",style:{color:"#3C3C3C"},children:"Source"}),e.jsx(y,{className:"w-56 min-w-56",style:{color:"#3C3C3C"},children:"Action"}),e.jsx(y,{className:"w-56 min-w-56",style:{color:"#3C3C3C"},children:"Trigger"}),e.jsx(y,{className:"w-40 min-w-40",style:{color:"#3C3C3C"},children:"Context"}),e.jsx(y,{className:"w-32 min-w-32",style:{color:"#3C3C3C"},children:"IEP Goal"}),e.jsx(y,{className:"w-20 min-w-20",style:{color:"#3C3C3C"},children:"GCO"})]})}),e.jsx(L,{children:o.map((h,S)=>{var T;const x=j(h);return e.jsxs(O,{className:S<o.length-1?"border-b":"",style:{borderColor:"#BDC3C7",backgroundColor:x?"#e65039":"transparent"},children:[e.jsx(i,{className:"text-center",children:e.jsx(G,{checked:x,onCheckedChange:K=>w(h,K),className:"border-2",style:{borderColor:x?"#e65039":"#BDC3C7",backgroundColor:x?"#e65039":"transparent"}})}),e.jsx(i,{style:{color:x?"white":"#3C3C3C"},children:h.date}),e.jsx(i,{style:{color:x?"white":"#3C3C3C"},children:h.time}),e.jsx(i,{style:{color:x?"white":"#3C3C3C"},children:h.source}),e.jsx(i,{style:{color:x?"white":"#3C3C3C"},className:"max-w-56 truncate",children:e.jsx("div",{title:h.action,children:h.action})}),e.jsx(i,{style:{color:x?"white":"#3C3C3C"},className:"max-w-56 truncate",children:e.jsx("div",{title:h.trigger,children:h.trigger})}),e.jsx(i,{style:{color:x?"white":"#3C3C3C"},className:"max-w-40 truncate",children:e.jsx("div",{title:h.context,children:h.context})}),e.jsx(i,{style:{color:x?"white":"#3C3C3C"},children:(T=h.iepGoal)==null?void 0:T.description}),e.jsx(i,{style:{color:x?"white":"#3C3C3C"},children:h==null?void 0:h.gco_classification})]},h.id)})})]})})})]})]}),e.jsxs("div",{className:"flex justify-center space-x-4 pt-4",children:[e.jsx(B,{onClick:m,className:"px-8 py-2 font-medium border-2 transition-all duration-200 hover:opacity-90",style:{backgroundColor:"white",borderColor:"#BDC3C7",color:"#3C3C3C"},children:"Cancel"}),e.jsxs(B,{onClick:P,disabled:l===0,className:"px-8 py-2 font-medium transition-all duration-200 hover:opacity-90 disabled:opacity-50",style:{backgroundColor:l>0?"#e65039":"#BDC3C7",color:"white",borderColor:l>0?"#e65039":"#BDC3C7"},children:["Generate (",l," selected)"]})]})]})})}const ue={trigger:"",source:"all",context:"",startDate:"",endDate:"",gcoClassification:"all",hasAction:!1,hasTrigger:!1};function Pe({isOpen:t,onClose:r,onApplyFilters:a,onClearFilters:s,behaviorDescriptors:o,title:d}){const[u,g]=p.useState(ue),b=Array.from(new Set(o.map(m=>m.source).filter(Boolean))),D=Array.from(new Set(o.map(m=>m.gco_classification).filter(Boolean))),w=(m,l)=>{g(h=>({...h,[m]:l}))},F=()=>{a(u),r()},j=()=>{g(ue),s(),r()},P=()=>{g(ue),r()};return e.jsx(se,{open:t,onOpenChange:P,children:e.jsxs(ne,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",style:{backgroundColor:"white",zIndex:9999},children:[e.jsxs(oe,{children:[e.jsxs(le,{className:"text-lg font-semibold",style:{color:"#3C3C3C"},children:["Filter ",d]}),e.jsx(ce,{style:{color:"#6C757D"},children:"Use the filters below to narrow down the behavior descriptors based on your criteria."})]}),e.jsxs("div",{className:"space-y-6 py-4",children:[e.jsxs("div",{children:[e.jsx(k,{htmlFor:"source-filter",className:"text-sm font-medium",style:{color:"#3C3C3C"},children:"Source"}),e.jsxs(Z,{value:u.source,onValueChange:m=>w("source",m),children:[e.jsx(ee,{className:"mt-1",children:e.jsx(te,{placeholder:"Select source"})}),e.jsxs(re,{className:"z-[10000] bg-white border border-gray-200 shadow-lg",children:[e.jsx(H,{value:"all",className:"hover:bg-gray-100 focus:bg-gray-100",children:"All Sources"}),b.map(m=>e.jsx(H,{value:m,className:"hover:bg-gray-100 focus:bg-gray-100",children:m},m))]})]})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"trigger-filter",className:"text-sm font-medium",style:{color:"#3C3C3C"},children:"Trigger"}),e.jsx(E,{id:"trigger-filter",type:"text",placeholder:"Filter by trigger...",value:u.trigger,onChange:m=>w("trigger",m.target.value),className:"mt-1"}),e.jsx("p",{className:"text-xs mt-1",style:{color:"#6C757D"},children:'Example: "during playtime", "when asked to clean up", "at meal time"'})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"context-filter",className:"text-sm font-medium",style:{color:"#3C3C3C"},children:"Context"}),e.jsx(E,{id:"context-filter",type:"text",placeholder:"Filter by context...",value:u.context,onChange:m=>w("context",m.target.value),className:"mt-1"}),e.jsx("p",{className:"text-xs mt-1",style:{color:"#6C757D"},children:'Example: "During free play", "In the classroom", "At circle time", "During transitions"'})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"gco-filter",className:"text-sm font-medium",style:{color:"#3C3C3C"},children:"GCO Classification"}),e.jsxs(Z,{value:u.gcoClassification,onValueChange:m=>w("gcoClassification",m),children:[e.jsx(ee,{className:"mt-1",children:e.jsx(te,{placeholder:"Select GCO"})}),e.jsxs(re,{className:"z-[10000] bg-white border border-gray-200 shadow-lg",children:[e.jsx(H,{value:"all",className:"hover:bg-gray-100 focus:bg-gray-100",children:"All GCOs"}),D.map(m=>e.jsxs(H,{value:m,className:"hover:bg-gray-100 focus:bg-gray-100",children:["GCO ",m]},m))]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(k,{htmlFor:"start-date-filter",className:"text-sm font-medium",style:{color:"#3C3C3C"},children:"Start Date"}),e.jsx(E,{id:"start-date-filter",type:"date",value:u.startDate,onChange:m=>w("startDate",m.target.value),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"end-date-filter",className:"text-sm font-medium",style:{color:"#3C3C3C"},children:"End Date"}),e.jsx(E,{id:"end-date-filter",type:"date",value:u.endDate,onChange:m=>w("endDate",m.target.value),className:"mt-1"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(k,{className:"text-sm font-medium",style:{color:"#3C3C3C"},children:"Additional Filters"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(G,{id:"has-action",checked:u.hasAction,onCheckedChange:m=>w("hasAction",m)}),e.jsx(k,{htmlFor:"has-action",className:"text-sm",style:{color:"#3C3C3C"},children:"Only show entries with actions"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(G,{id:"has-trigger",checked:u.hasTrigger,onCheckedChange:m=>w("hasTrigger",m)}),e.jsx(k,{htmlFor:"has-trigger",className:"text-sm",style:{color:"#3C3C3C"},children:"Only show entries with triggers"})]})]})]})]}),e.jsxs(Ie,{className:"flex justify-between",children:[e.jsx(B,{variant:"outline",onClick:j,className:"px-6",style:{borderColor:"#BDC3C7",color:"#3C3C3C"},children:"Clear All"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(B,{variant:"outline",onClick:P,className:"px-6",style:{borderColor:"#BDC3C7",color:"#3C3C3C"},children:"Cancel"}),e.jsx(B,{onClick:F,className:"px-6",style:{backgroundColor:"#e65039",color:"white",borderColor:"#e65039"},children:"Apply Filters"})]})]})]})})}const qe=6048e5,ft=864e5,Me=Symbol.for("constructDateFrom");function Y(t,r){return typeof t=="function"?t(r):t&&typeof t=="object"&&Me in t?t[Me](r):t instanceof Date?new t.constructor(r):new Date(r)}function A(t,r){return Y(r||t,t)}let xt={};function ie(){return xt}function J(t,r){var g,b,D,w;const a=ie(),s=(r==null?void 0:r.weekStartsOn)??((b=(g=r==null?void 0:r.locale)==null?void 0:g.options)==null?void 0:b.weekStartsOn)??a.weekStartsOn??((w=(D=a.locale)==null?void 0:D.options)==null?void 0:w.weekStartsOn)??0,o=A(t,r==null?void 0:r.in),d=o.getDay(),u=(d<s?7:0)+d-s;return o.setDate(o.getDate()-u),o.setHours(0,0,0,0),o}function ae(t,r){return J(t,{...r,weekStartsOn:1})}function Le(t,r){const a=A(t,r==null?void 0:r.in),s=a.getFullYear(),o=Y(a,0);o.setFullYear(s+1,0,4),o.setHours(0,0,0,0);const d=ae(o),u=Y(a,0);u.setFullYear(s,0,4),u.setHours(0,0,0,0);const g=ae(u);return a.getTime()>=d.getTime()?s+1:a.getTime()>=g.getTime()?s:s-1}function Te(t){const r=A(t),a=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return a.setUTCFullYear(r.getFullYear()),+t-+a}function yt(t,...r){const a=Y.bind(null,r.find(s=>typeof s=="object"));return r.map(a)}function Ae(t,r){const a=A(t,r==null?void 0:r.in);return a.setHours(0,0,0,0),a}function bt(t,r,a){const[s,o]=yt(a==null?void 0:a.in,t,r),d=Ae(s),u=Ae(o),g=+d-Te(d),b=+u-Te(u);return Math.round((g-b)/ft)}function wt(t,r){const a=Le(t,r),s=Y(t,0);return s.setFullYear(a,0,4),s.setHours(0,0,0,0),ae(s)}function jt(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function vt(t){return!(!jt(t)&&typeof t!="number"||isNaN(+A(t)))}function Nt(t,r){const a=A(t,r==null?void 0:r.in);return a.setFullYear(a.getFullYear(),0,1),a.setHours(0,0,0,0),a}const Dt={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},pt=(t,r,a)=>{let s;const o=Dt[t];return typeof o=="string"?s=o:r===1?s=o.one:s=o.other.replace("{{count}}",r.toString()),a!=null&&a.addSuffix?a.comparison&&a.comparison>0?"in "+s:s+" ago":s};function me(t){return(r={})=>{const a=r.width?String(r.width):t.defaultWidth;return t.formats[a]||t.formats[t.defaultWidth]}}const kt={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Ft={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},St={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Ot={date:me({formats:kt,defaultWidth:"full"}),time:me({formats:Ft,defaultWidth:"full"}),dateTime:me({formats:St,defaultWidth:"full"})},Bt={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Pt=(t,r,a,s)=>Bt[t];function Q(t){return(r,a)=>{const s=a!=null&&a.context?String(a.context):"standalone";let o;if(s==="formatting"&&t.formattingValues){const u=t.defaultFormattingWidth||t.defaultWidth,g=a!=null&&a.width?String(a.width):u;o=t.formattingValues[g]||t.formattingValues[u]}else{const u=t.defaultWidth,g=a!=null&&a.width?String(a.width):t.defaultWidth;o=t.values[g]||t.values[u]}const d=t.argumentCallback?t.argumentCallback(r):r;return o[d]}}const Mt={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Tt={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},At={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Et={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},_t={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Wt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Gt=(t,r)=>{const a=Number(t),s=a%100;if(s>20||s<10)switch(s%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},Yt={ordinalNumber:Gt,era:Q({values:Mt,defaultWidth:"wide"}),quarter:Q({values:Tt,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Q({values:At,defaultWidth:"wide"}),day:Q({values:Et,defaultWidth:"wide"}),dayPeriod:Q({values:_t,defaultWidth:"wide",formattingValues:Wt,defaultFormattingWidth:"wide"})};function X(t){return(r,a={})=>{const s=a.width,o=s&&t.matchPatterns[s]||t.matchPatterns[t.defaultMatchWidth],d=r.match(o);if(!d)return null;const u=d[0],g=s&&t.parsePatterns[s]||t.parsePatterns[t.defaultParseWidth],b=Array.isArray(g)?qt(g,F=>F.test(u)):It(g,F=>F.test(u));let D;D=t.valueCallback?t.valueCallback(b):b,D=a.valueCallback?a.valueCallback(D):D;const w=r.slice(u.length);return{value:D,rest:w}}}function It(t,r){for(const a in t)if(Object.prototype.hasOwnProperty.call(t,a)&&r(t[a]))return a}function qt(t,r){for(let a=0;a<t.length;a++)if(r(t[a]))return a}function Lt(t){return(r,a={})=>{const s=r.match(t.matchPattern);if(!s)return null;const o=s[0],d=r.match(t.parsePattern);if(!d)return null;let u=t.valueCallback?t.valueCallback(d[0]):d[0];u=a.valueCallback?a.valueCallback(u):u;const g=r.slice(o.length);return{value:u,rest:g}}}const Rt=/^(\d+)(th|st|nd|rd)?/i,$t=/\d+/i,Ht={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Qt={any:[/^b/i,/^(a|c)/i]},Xt={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Vt={any:[/1/i,/2/i,/3/i,/4/i]},zt={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Jt={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Kt={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Ut={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Zt={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},er={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},tr={ordinalNumber:Lt({matchPattern:Rt,parsePattern:$t,valueCallback:t=>parseInt(t,10)}),era:X({matchPatterns:Ht,defaultMatchWidth:"wide",parsePatterns:Qt,defaultParseWidth:"any"}),quarter:X({matchPatterns:Xt,defaultMatchWidth:"wide",parsePatterns:Vt,defaultParseWidth:"any",valueCallback:t=>t+1}),month:X({matchPatterns:zt,defaultMatchWidth:"wide",parsePatterns:Jt,defaultParseWidth:"any"}),day:X({matchPatterns:Kt,defaultMatchWidth:"wide",parsePatterns:Ut,defaultParseWidth:"any"}),dayPeriod:X({matchPatterns:Zt,defaultMatchWidth:"any",parsePatterns:er,defaultParseWidth:"any"})},rr={code:"en-US",formatDistance:pt,formatLong:Ot,formatRelative:Pt,localize:Yt,match:tr,options:{weekStartsOn:0,firstWeekContainsDate:1}};function ar(t,r){const a=A(t,r==null?void 0:r.in);return bt(a,Nt(a))+1}function sr(t,r){const a=A(t,r==null?void 0:r.in),s=+ae(a)-+wt(a);return Math.round(s/qe)+1}function Re(t,r){var w,F,j,P;const a=A(t,r==null?void 0:r.in),s=a.getFullYear(),o=ie(),d=(r==null?void 0:r.firstWeekContainsDate)??((F=(w=r==null?void 0:r.locale)==null?void 0:w.options)==null?void 0:F.firstWeekContainsDate)??o.firstWeekContainsDate??((P=(j=o.locale)==null?void 0:j.options)==null?void 0:P.firstWeekContainsDate)??1,u=Y((r==null?void 0:r.in)||t,0);u.setFullYear(s+1,0,d),u.setHours(0,0,0,0);const g=J(u,r),b=Y((r==null?void 0:r.in)||t,0);b.setFullYear(s,0,d),b.setHours(0,0,0,0);const D=J(b,r);return+a>=+g?s+1:+a>=+D?s:s-1}function nr(t,r){var g,b,D,w;const a=ie(),s=(r==null?void 0:r.firstWeekContainsDate)??((b=(g=r==null?void 0:r.locale)==null?void 0:g.options)==null?void 0:b.firstWeekContainsDate)??a.firstWeekContainsDate??((w=(D=a.locale)==null?void 0:D.options)==null?void 0:w.firstWeekContainsDate)??1,o=Re(t,r),d=Y((r==null?void 0:r.in)||t,0);return d.setFullYear(o,0,s),d.setHours(0,0,0,0),J(d,r)}function or(t,r){const a=A(t,r==null?void 0:r.in),s=+J(a,r)-+nr(a,r);return Math.round(s/qe)+1}function v(t,r){const a=t<0?"-":"",s=Math.abs(t).toString().padStart(r,"0");return a+s}const W={y(t,r){const a=t.getFullYear(),s=a>0?a:1-a;return v(r==="yy"?s%100:s,r.length)},M(t,r){const a=t.getMonth();return r==="M"?String(a+1):v(a+1,2)},d(t,r){return v(t.getDate(),r.length)},a(t,r){const a=t.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return a.toUpperCase();case"aaa":return a;case"aaaaa":return a[0];case"aaaa":default:return a==="am"?"a.m.":"p.m."}},h(t,r){return v(t.getHours()%12||12,r.length)},H(t,r){return v(t.getHours(),r.length)},m(t,r){return v(t.getMinutes(),r.length)},s(t,r){return v(t.getSeconds(),r.length)},S(t,r){const a=r.length,s=t.getMilliseconds(),o=Math.trunc(s*Math.pow(10,a-3));return v(o,r.length)}},$={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Ee={G:function(t,r,a){const s=t.getFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return a.era(s,{width:"abbreviated"});case"GGGGG":return a.era(s,{width:"narrow"});case"GGGG":default:return a.era(s,{width:"wide"})}},y:function(t,r,a){if(r==="yo"){const s=t.getFullYear(),o=s>0?s:1-s;return a.ordinalNumber(o,{unit:"year"})}return W.y(t,r)},Y:function(t,r,a,s){const o=Re(t,s),d=o>0?o:1-o;if(r==="YY"){const u=d%100;return v(u,2)}return r==="Yo"?a.ordinalNumber(d,{unit:"year"}):v(d,r.length)},R:function(t,r){const a=Le(t);return v(a,r.length)},u:function(t,r){const a=t.getFullYear();return v(a,r.length)},Q:function(t,r,a){const s=Math.ceil((t.getMonth()+1)/3);switch(r){case"Q":return String(s);case"QQ":return v(s,2);case"Qo":return a.ordinalNumber(s,{unit:"quarter"});case"QQQ":return a.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return a.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,r,a){const s=Math.ceil((t.getMonth()+1)/3);switch(r){case"q":return String(s);case"qq":return v(s,2);case"qo":return a.ordinalNumber(s,{unit:"quarter"});case"qqq":return a.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return a.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,r,a){const s=t.getMonth();switch(r){case"M":case"MM":return W.M(t,r);case"Mo":return a.ordinalNumber(s+1,{unit:"month"});case"MMM":return a.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return a.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(s,{width:"wide",context:"formatting"})}},L:function(t,r,a){const s=t.getMonth();switch(r){case"L":return String(s+1);case"LL":return v(s+1,2);case"Lo":return a.ordinalNumber(s+1,{unit:"month"});case"LLL":return a.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return a.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(s,{width:"wide",context:"standalone"})}},w:function(t,r,a,s){const o=or(t,s);return r==="wo"?a.ordinalNumber(o,{unit:"week"}):v(o,r.length)},I:function(t,r,a){const s=sr(t);return r==="Io"?a.ordinalNumber(s,{unit:"week"}):v(s,r.length)},d:function(t,r,a){return r==="do"?a.ordinalNumber(t.getDate(),{unit:"date"}):W.d(t,r)},D:function(t,r,a){const s=ar(t);return r==="Do"?a.ordinalNumber(s,{unit:"dayOfYear"}):v(s,r.length)},E:function(t,r,a){const s=t.getDay();switch(r){case"E":case"EE":case"EEE":return a.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return a.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(s,{width:"short",context:"formatting"});case"EEEE":default:return a.day(s,{width:"wide",context:"formatting"})}},e:function(t,r,a,s){const o=t.getDay(),d=(o-s.weekStartsOn+8)%7||7;switch(r){case"e":return String(d);case"ee":return v(d,2);case"eo":return a.ordinalNumber(d,{unit:"day"});case"eee":return a.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return a.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(o,{width:"short",context:"formatting"});case"eeee":default:return a.day(o,{width:"wide",context:"formatting"})}},c:function(t,r,a,s){const o=t.getDay(),d=(o-s.weekStartsOn+8)%7||7;switch(r){case"c":return String(d);case"cc":return v(d,r.length);case"co":return a.ordinalNumber(d,{unit:"day"});case"ccc":return a.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return a.day(o,{width:"narrow",context:"standalone"});case"cccccc":return a.day(o,{width:"short",context:"standalone"});case"cccc":default:return a.day(o,{width:"wide",context:"standalone"})}},i:function(t,r,a){const s=t.getDay(),o=s===0?7:s;switch(r){case"i":return String(o);case"ii":return v(o,r.length);case"io":return a.ordinalNumber(o,{unit:"day"});case"iii":return a.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return a.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return a.day(s,{width:"short",context:"formatting"});case"iiii":default:return a.day(s,{width:"wide",context:"formatting"})}},a:function(t,r,a){const o=t.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return a.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return a.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return a.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(t,r,a){const s=t.getHours();let o;switch(s===12?o=$.noon:s===0?o=$.midnight:o=s/12>=1?"pm":"am",r){case"b":case"bb":return a.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return a.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return a.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(t,r,a){const s=t.getHours();let o;switch(s>=17?o=$.evening:s>=12?o=$.afternoon:s>=4?o=$.morning:o=$.night,r){case"B":case"BB":case"BBB":return a.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return a.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(t,r,a){if(r==="ho"){let s=t.getHours()%12;return s===0&&(s=12),a.ordinalNumber(s,{unit:"hour"})}return W.h(t,r)},H:function(t,r,a){return r==="Ho"?a.ordinalNumber(t.getHours(),{unit:"hour"}):W.H(t,r)},K:function(t,r,a){const s=t.getHours()%12;return r==="Ko"?a.ordinalNumber(s,{unit:"hour"}):v(s,r.length)},k:function(t,r,a){let s=t.getHours();return s===0&&(s=24),r==="ko"?a.ordinalNumber(s,{unit:"hour"}):v(s,r.length)},m:function(t,r,a){return r==="mo"?a.ordinalNumber(t.getMinutes(),{unit:"minute"}):W.m(t,r)},s:function(t,r,a){return r==="so"?a.ordinalNumber(t.getSeconds(),{unit:"second"}):W.s(t,r)},S:function(t,r){return W.S(t,r)},X:function(t,r,a){const s=t.getTimezoneOffset();if(s===0)return"Z";switch(r){case"X":return We(s);case"XXXX":case"XX":return I(s);case"XXXXX":case"XXX":default:return I(s,":")}},x:function(t,r,a){const s=t.getTimezoneOffset();switch(r){case"x":return We(s);case"xxxx":case"xx":return I(s);case"xxxxx":case"xxx":default:return I(s,":")}},O:function(t,r,a){const s=t.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+_e(s,":");case"OOOO":default:return"GMT"+I(s,":")}},z:function(t,r,a){const s=t.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+_e(s,":");case"zzzz":default:return"GMT"+I(s,":")}},t:function(t,r,a){const s=Math.trunc(+t/1e3);return v(s,r.length)},T:function(t,r,a){return v(+t,r.length)}};function _e(t,r=""){const a=t>0?"-":"+",s=Math.abs(t),o=Math.trunc(s/60),d=s%60;return d===0?a+String(o):a+String(o)+r+v(d,2)}function We(t,r){return t%60===0?(t>0?"-":"+")+v(Math.abs(t)/60,2):I(t,r)}function I(t,r=""){const a=t>0?"-":"+",s=Math.abs(t),o=v(Math.trunc(s/60),2),d=v(s%60,2);return a+o+r+d}const Ge=(t,r)=>{switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},$e=(t,r)=>{switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},lr=(t,r)=>{const a=t.match(/(P+)(p+)?/)||[],s=a[1],o=a[2];if(!o)return Ge(t,r);let d;switch(s){case"P":d=r.dateTime({width:"short"});break;case"PP":d=r.dateTime({width:"medium"});break;case"PPP":d=r.dateTime({width:"long"});break;case"PPPP":default:d=r.dateTime({width:"full"});break}return d.replace("{{date}}",Ge(s,r)).replace("{{time}}",$e(o,r))},cr={p:$e,P:lr},ir=/^D+$/,dr=/^Y+$/,hr=["D","DD","YY","YYYY"];function ur(t){return ir.test(t)}function mr(t){return dr.test(t)}function Cr(t,r,a){const s=gr(t,r,a);if(console.warn(s),hr.includes(t))throw new RangeError(s)}function gr(t,r,a){const s=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${r}\`) for formatting ${s} to the input \`${a}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const fr=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,xr=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,yr=/^'([^]*?)'?$/,br=/''/g,wr=/[a-zA-Z]/;function Ye(t,r,a){var w,F,j,P;const s=ie(),o=s.locale??rr,d=s.firstWeekContainsDate??((F=(w=s.locale)==null?void 0:w.options)==null?void 0:F.firstWeekContainsDate)??1,u=s.weekStartsOn??((P=(j=s.locale)==null?void 0:j.options)==null?void 0:P.weekStartsOn)??0,g=A(t,a==null?void 0:a.in);if(!vt(g))throw new RangeError("Invalid time value");let b=r.match(xr).map(m=>{const l=m[0];if(l==="p"||l==="P"){const h=cr[l];return h(m,o.formatLong)}return m}).join("").match(fr).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const l=m[0];if(l==="'")return{isToken:!1,value:jr(m)};if(Ee[l])return{isToken:!0,value:m};if(l.match(wr))throw new RangeError("Format string contains an unescaped latin alphabet character `"+l+"`");return{isToken:!1,value:m}});o.localize.preprocessor&&(b=o.localize.preprocessor(g,b));const D={firstWeekContainsDate:d,weekStartsOn:u,locale:o};return b.map(m=>{if(!m.isToken)return m.value;const l=m.value;(mr(l)||ur(l))&&Cr(l,r,String(t));const h=Ee[l[0]];return h(g,l,o.localize,D)}).join("")}function jr(t){const r=t.match(yr);return r?r[1].replace(br,"'"):t}function vr(t){return Ce({queryKey:["behavioralDescriptors",t],queryFn:async()=>{const{data:r}=await z.get(`/api/students/${t}/behavioral_descriptors`);return r.map(a=>{const s=new Date(a.created_at);return{...a,selected:!1,date:Ye(s,"dd.MM.yy"),time:Ye(s,"h:mm a")}})}})}const Nr=async t=>{const{data:r}=await z.get(`/api/behavioral-descriptors/grouped_gcos/${t}`);return r};function Fr({student:t,onBack:r,onBehaviorDescriptorClick:a}){var Fe;const[s,o]=p.useState(""),[d,u]=p.useState(""),[g,b]=p.useState(!1),[D,w]=p.useState(!1),F=mt(),[j,P]=p.useState([]),[m,l]=p.useState([]),{data:h}=vr(parseInt(t.id)),[S,x]=p.useState({trigger:"",source:"all",context:"",startDate:"",endDate:"",gcoClassification:"all",hasAction:!1,hasTrigger:!1}),[T,K]=p.useState({trigger:"",source:"all",context:"",startDate:"",endDate:"",gcoClassification:"all",hasAction:!1,hasTrigger:!1}),He=n=>{if(!s&&!d)return n;console.log("descriptors:",n);const c=f=>{const[C,N,M]=f.split("."),R=`20${M}`;return new Date(`${R}-${N}-${C}`)};return n.filter(f=>{const C=c(f.date),N=s?new Date(s):null,M=d?new Date(d):null;if(g){if(N&&M)return C>=N&&C<=M;if(N)return C>=N;if(M)return C<=M}else if(N&&!M){const R=C.toISOString().split("T")[0],he=N.toISOString().split("T")[0];return R===he}else if(N&&M)return C>=N&&C<=M;return!0})};p.useEffect(()=>{if(h){const n=He(h);console.log("Filtered by date:",n);const c=je(n.filter(C=>!C.iep_goal),S);P(c);const f=je(n.filter(C=>!!C.iep_goal),T);l(f)}},[h,s,d,g,S,T]);const{data:_}=Ce({queryKey:["groupedDescriptors",t.id],queryFn:()=>Nr(parseInt(t.id)),enabled:!!t.id}),[Qe,ge]=p.useState(!1),[Xe,Ve]=p.useState(!1),[ze,fe]=p.useState(!1),[Je,xe]=p.useState(!1),ye=(n,c)=>{console.log(n,c),P(f=>f.map(C=>C.id===n?{...C,selected:c}:C))},be=(n,c)=>{console.log(n,c),l(f=>f.map(C=>C.id===n?{...C,selected:c}:C))},we=(n,c)=>{c.target.closest('input[type="checkbox"]')||c.target.closest('[role="checkbox"]')||a(n)},Ke=()=>{ge(!0)},Ue=async n=>{const c={source:n.source,action:n.action,trigger:n.trigger,timestamp:n.time,gco_classification:n.gcoClassification,iep_goal_id:Number(n.iep_goal_id),student_id:t.id};return(await z.post("/api/behavioral-descriptors/",c)).data},Ze=()=>Oe({mutationFn:Ue}),{mutate:et}=Ze(),tt=n=>{console.log("Team Member BD submitted:",n),et(n,{onSuccess:c=>{console.log("BD saved:",c),F.invalidateQueries({queryKey:["behavioralDescriptors",parseInt(t.id)]})},onError:c=>{console.error("Error saving BD:",c)}})},rt=()=>{o(""),u(""),b(!1)},je=(n,c)=>n.filter(f=>{if(c.trigger&&!f.trigger.toLowerCase().includes(c.trigger.toLowerCase())||c.source&&c.source!=="all"&&f.source!==c.source||c.context&&!f.context.toLowerCase().includes(c.context.toLowerCase())||c.gcoClassification&&c.gcoClassification!=="all"&&f.gco_classification!==c.gcoClassification)return!1;if(c.startDate||c.endDate){const C=new Date(f.created_at),N=c.startDate?new Date(c.startDate):null,M=c.endDate?new Date(c.endDate):null;if(N&&C<N||M&&C>M)return!1}return!(c.hasAction&&(!f.action||f.action.trim()==="")||c.hasTrigger&&(!f.trigger||f.trigger.trim()===""))}),at=n=>{x(n)},st=()=>{x({trigger:"",source:"all",context:"",startDate:"",endDate:"",gcoClassification:"all",hasAction:!1,hasTrigger:!1})},nt=n=>{K(n)},ot=()=>{K({trigger:"",source:"all",context:"",startDate:"",endDate:"",gcoClassification:"all",hasAction:!1,hasTrigger:!1})};console.log(j.filter(n=>n.selected));const lt=()=>{const n=j.filter(C=>C.selected).map(C=>C.id),c=m.filter(C=>C.selected).map(C=>C.id),f=[...n,...c];if(f.length===0){w(!0);return}it({studentId:t.id,ids:f})};function ct(){return Oe({mutationFn:async({studentId:n,ids:c})=>{const f=c&&c.length>0?`?${c.map(N=>`ids=${N}`).join("&")}`:"";return(await z.get(`/api/students/${n}/gcowmr${f}`)).data},onSuccess:n=>{const{download_url:c}=n;if(!c)return;const f=document.createElement("a");f.href=c,f.setAttribute("download","report.xlsx"),document.body.appendChild(f),f.click(),f.remove()}})}const{mutate:it,isPending:ve}=ct(),dt=n=>{console.log(n)},ht=n=>{const c=(n||"").split(".").filter(Boolean);return c.length===0?"":c.length===1?`${c[0]}.0`:`${c[0]}.${c[1]}`},de=n=>{if(!Array.isArray(n))return[];const c=new Map;for(const f of n){if(!f)continue;const C=ht(f);c.set(C,(c.get(C)||0)+1)}return Array.from(c.entries()).sort((f,C)=>{const[N,M]=f[0].split(".").map(Number),[R,he]=C[0].split(".").map(Number);return N!==R?N-R:M-he})},Ne=de(_==null?void 0:_.gco1),De=de(_==null?void 0:_.gco2),pe=de(_==null?void 0:_.gco3),ke=Math.max(Ne.length,De.length,pe.length);return e.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#F8F9FA"},children:[e.jsx("div",{className:"px-4 sm:px-6 py-4 sm:py-6 lg:py-8",style:{backgroundColor:"#fff5f3"},children:e.jsx("div",{className:"max-w-7xl mx-auto"})}),e.jsx("div",{className:"px-4 sm:px-6 py-2",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"w-4 h-4",style:{color:"#e65039"}}),e.jsxs("span",{style:{color:"#e65039"},children:["Home > ",t==null?void 0:t.name]})]}),e.jsxs(B,{onClick:r,className:"flex items-center space-x-2 px-6 py-2 font-medium transition-all duration-200 hover:opacity-90",style:{backgroundColor:"#e65039",color:"white",borderColor:"#e65039"},children:[e.jsx(Be,{className:"w-5 h-5"}),e.jsx("span",{children:"Back"})]})]})})}),e.jsx("div",{className:"px-4 sm:px-6 pb-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden mb-6",children:e.jsx(q,{children:e.jsxs(L,{children:[e.jsxs(O,{className:"border-b",style:{borderColor:"#BDC3C7"},children:[e.jsx(i,{className:"font-medium",style:{color:"#3C3C3C",backgroundColor:"#F8F9FA"},children:"Name"}),e.jsx(i,{style:{color:"#3C3C3C"},children:t==null?void 0:t.name}),e.jsx(i,{className:"font-medium",style:{color:"#3C3C3C",backgroundColor:"#F8F9FA"},children:"Chronological age (months)"}),e.jsx(i,{style:{color:"#3C3C3C"},children:t==null?void 0:t.chronological_age})]}),e.jsxs(O,{className:"border-b",style:{borderColor:"#BDC3C7"},children:[e.jsx(i,{className:"font-medium",style:{color:"#3C3C3C",backgroundColor:"#F8F9FA"},children:"Primary Diagnosis"}),e.jsx(i,{style:{color:"#3C3C3C"},children:t==null?void 0:t.primary_diagnosis}),e.jsx(i,{className:"font-medium",style:{color:"#3C3C3C",backgroundColor:"#F8F9FA"},children:"Age band (months)"}),e.jsx(i,{style:{color:"#3C3C3C"},children:t==null?void 0:t.age_band})]}),e.jsxs(O,{className:"border-b",style:{borderColor:"#BDC3C7"},children:[e.jsx(i,{className:"font-medium",style:{color:"#3C3C3C",backgroundColor:"#F8F9FA"},children:"Secondary Diagnosis"}),e.jsx(i,{style:{color:"#3C3C3C"},children:t==null?void 0:t.secondary_diagnosis}),e.jsx(i,{className:"font-medium",style:{color:"#3C3C3C",backgroundColor:"#F8F9FA"},children:"Functional Age"}),e.jsx(i,{style:{color:"#3C3C3C"}})]}),e.jsxs(O,{className:"border-b",style:{borderColor:"#BDC3C7"},children:[e.jsx(i,{className:"font-medium",style:{color:"#3C3C3C",backgroundColor:"#F8F9FA"},children:"Entry/Review/Exit"}),e.jsx(i,{style:{color:"#3C3C3C"},children:t==null?void 0:t.entry_type}),e.jsx(i,{className:"font-medium",style:{color:"#3C3C3C",backgroundColor:"#F8F9FA"},children:"GCO 1"}),e.jsx(i,{style:{color:"#3C3C3C"},children:t.gco_1_functional_age})]}),e.jsxs(O,{className:"border-b",style:{borderColor:"#BDC3C7"},children:[e.jsx(i,{className:"font-medium",style:{color:"#3C3C3C",backgroundColor:"#F8F9FA"},children:"CT"}),e.jsx(i,{style:{color:"#3C3C3C"},children:(Fe=t.ct)==null?void 0:Fe.first_name}),e.jsx(i,{className:"font-medium",style:{color:"#3C3C3C",backgroundColor:"#F8F9FA"},children:"GCO 2"}),e.jsx(i,{style:{color:"#3C3C3C"},children:t.gco_2_functional_age})]}),e.jsxs(O,{children:[e.jsx(i,{className:"font-medium",style:{color:"#3C3C3C",backgroundColor:"#F8F9FA"},children:"Last GCO"}),e.jsx(i,{style:{color:"#3C3C3C"},children:t==null?void 0:t.last_gco_date}),e.jsx(i,{className:"font-medium",style:{color:"#3C3C3C",backgroundColor:"#F8F9FA"},children:"GCO 3"}),e.jsx(i,{style:{color:"#3C3C3C"},children:t.gco_3_functional_age})]})]})})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden mb-6",children:[e.jsx("div",{className:"p-4 border-b",style:{borderColor:"#BDC3C7",backgroundColor:"#F8F9FA"},children:e.jsx("h3",{className:"font-medium",style:{color:"#3C3C3C"},children:"IEP Goals"})}),e.jsx(q,{children:e.jsx(L,{children:t.iep_goals.map((n,c)=>e.jsxs(O,{className:c<t.iep_goals.length-1?"border-b":"",style:{borderColor:"#BDC3C7"},children:[e.jsxs(i,{style:{color:"#3C3C3C"},children:[c+1,"."]}),e.jsx(i,{style:{color:"#3C3C3C"},children:n.description}),e.jsxs(i,{style:{color:"#3C3C3C",backgroundColor:"#F8F9FA"},children:["GCO ",n.gco_number]})]},n.id))})})]}),e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4",children:e.jsxs("div",{className:"flex flex-col space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(k,{className:"text-sm font-medium",style:{color:"#3C3C3C"},children:"Date Filter Mode:"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(B,{type:"button",variant:g?"outline":"default",size:"sm",onClick:()=>{b(!1),u("")},className:"text-xs",style:{backgroundColor:g?"transparent":"#e65039",color:g?"#3C3C3C":"white",borderColor:"#e65039"},children:"Single Date"}),e.jsx(B,{type:"button",variant:g?"default":"outline",size:"sm",onClick:()=>b(!0),className:"text-xs",style:{backgroundColor:g?"#e65039":"transparent",color:g?"white":"#3C3C3C",borderColor:"#e65039"},children:"Date Range"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(k,{htmlFor:"startDate",style:{color:"#3C3C3C"},children:g?"Start Date":"Date"}),e.jsx(E,{id:"startDate",type:"date",value:s,onChange:n=>o(n.target.value),className:"bg-white border-2 focus:outline-none",style:{borderColor:"#BDC3C7",color:"#3C3C3C"},onFocus:n=>n.target.style.borderColor="#2C5F7C",onBlur:n=>n.target.style.borderColor="#BDC3C7"})]}),g&&e.jsxs("div",{className:"flex-1",children:[e.jsx(k,{htmlFor:"endDate",style:{color:"#3C3C3C"},children:"End Date"}),e.jsx(E,{id:"endDate",type:"date",value:d,onChange:n=>u(n.target.value),className:"bg-white border-2 focus:outline-none",style:{borderColor:"#BDC3C7",color:"#3C3C3C"},onFocus:n=>n.target.style.borderColor="#2C5F7C",onBlur:n=>n.target.style.borderColor="#BDC3C7"})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{className:"text-sm",style:{color:"#6C757D"},children:g?"Select a date range to filter behavior descriptors":"Select a specific date to view behavior descriptors for that day"}),e.jsx(B,{type:"button",variant:"outline",size:"sm",onClick:rt,className:"text-xs",style:{borderColor:"#BDC3C7",color:"#3C3C3C"},children:"Reset Dates"})]})]})})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden mb-6",children:[e.jsx("div",{className:"p-4 border-b",style:{borderColor:"#BDC3C7",backgroundColor:"#F8F9FA"},children:e.jsx("h3",{className:"font-medium",style:{color:"#3C3C3C"},children:"BDs Collected For GCOs"})}),e.jsx("div",{className:"max-h-64 overflow-y-auto",children:e.jsxs(q,{children:[e.jsx(V,{className:"sticky top-0 bg-white z-10",children:e.jsxs(O,{className:"border-b-2",style:{borderColor:"#BDC3C7",backgroundColor:"#F8F9FA"},children:[e.jsx(y,{className:"w-12",style:{color:"#3C3C3C"}}),e.jsx(y,{className:"text-center",style:{color:"#3C3C3C"},children:"GCO 1"}),e.jsx(y,{className:"text-center",style:{color:"#3C3C3C"},children:"GCO 2"}),e.jsx(y,{className:"text-center",style:{color:"#3C3C3C"},children:"GCO 3"})]})}),e.jsx(L,{children:Array.from({length:ke}).map((n,c)=>{const f=Ne[c],C=De[c],N=pe[c];return e.jsxs(O,{className:c<ke-1?"border-b":"",style:{borderColor:"#BDC3C7"},children:[e.jsx(i,{className:"w-12 text-center text-sm",style:{color:"#3C3C3C",backgroundColor:"transparent"},children:c+1}),e.jsx(i,{className:"text-center",style:{color:"#3C3C3C",backgroundColor:"transparent"},children:f?`${f[0]} (${f[1]})`:""}),e.jsx(i,{className:"text-center",style:{color:"#3C3C3C",backgroundColor:"transparent"},children:C?`${C[0]} (${C[1]})`:""}),e.jsx(i,{className:"text-center",style:{color:"#3C3C3C",backgroundColor:"transparent"},children:N?`${N[0]} (${N[1]})`:""})]},c)})})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden mb-6",children:[e.jsxs("div",{className:"p-4 border-b flex justify-between items-center",style:{borderColor:"#BDC3C7",backgroundColor:"#F8F9FA"},children:[e.jsx("h3",{className:"font-medium",style:{color:"#3C3C3C"},children:"Behaviour descriptors for GCO"}),e.jsxs(B,{onClick:()=>fe(!0),variant:"outline",size:"sm",className:"flex items-center space-x-2",style:{borderColor:"#BDC3C7",color:"#3C3C3C"},children:[e.jsx(U,{className:"w-4 h-4"}),e.jsx("span",{children:"Filter"})]})]}),e.jsx("div",{className:"max-h-[400px] sm:max-h-[500px] lg:max-h-[600px] overflow-y-auto",children:e.jsxs(q,{children:[e.jsx(V,{className:"sticky top-0 bg-white z-10",children:e.jsxs(O,{className:"border-b-2",style:{borderColor:"#BDC3C7",backgroundColor:"#F8F9FA"},children:[e.jsx(y,{className:"w-16 text-center",style:{color:"#3C3C3C"},children:e.jsx(G,{checked:j.length>0&&j.every(n=>n.selected),onCheckedChange:n=>{j.forEach(c=>{ye(c.id,n)})},className:"border-2 data-[state=checked]:bg-primary data-[state=checked]:border-primary",style:{borderColor:"#BDC3C7"}})}),e.jsx(y,{style:{color:"#3C3C3C"},children:"Date"}),e.jsx(y,{style:{color:"#3C3C3C"},children:"Time"}),e.jsx(y,{style:{color:"#3C3C3C"},children:"Source"}),e.jsx(y,{style:{color:"#3C3C3C"},children:"Action"}),e.jsx(y,{style:{color:"#3C3C3C"},children:"Trigger"}),e.jsx(y,{style:{color:"#3C3C3C"},children:"Context"}),e.jsx(y,{style:{color:"#3C3C3C"},children:"GCO"})]})}),e.jsx(L,{children:j==null?void 0:j.filter(n=>n.action&&n.action.trim()!==""&&n.action.toLowerCase()!=="null"&&n.trigger&&n.trigger.trim()!==""&&n.trigger.toLowerCase()!=="null").map((n,c,f)=>e.jsxs(O,{className:`${c<f.length-1?"border-b":""} cursor-pointer hover:bg-gray-50 transition-colors`,style:{borderColor:"#BDC3C7",backgroundColor:n.selected?"#e65039":"transparent"},onClick:C=>we(n,C),children:[e.jsx(i,{className:"text-center",children:e.jsx(G,{checked:n.selected,onCheckedChange:C=>ye(n.id,C),className:"border-2 data-[state=checked]:bg-primary data-[state=checked]:border-primary",style:{borderColor:n.selected?"#e65039":"#BDC3C7",backgroundColor:n.selected?"#e65039":"transparent"}})}),e.jsx(i,{style:{color:n.selected?"white":"#3C3C3C"},children:n.date}),e.jsx(i,{style:{color:n.selected?"white":"#3C3C3C"},children:n.time}),e.jsx(i,{style:{color:n.selected?"white":"#3C3C3C"},children:n.source}),e.jsx(i,{style:{color:n.selected?"white":"#3C3C3C"},children:n.action}),e.jsx(i,{style:{color:n.selected?"white":"#3C3C3C"},children:n.trigger}),e.jsx(i,{style:{color:n.selected?"white":"#3C3C3C"},children:n.context}),e.jsx(i,{style:{color:n.selected?"white":"#3C3C3C"},children:n.gco_classification})]},n.id))})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden mb-6",children:[e.jsxs("div",{className:"p-4 border-b flex justify-between items-center",style:{borderColor:"#BDC3C7",backgroundColor:"#F8F9FA"},children:[e.jsx("h3",{className:"font-medium",style:{color:"#3C3C3C"},children:"Behaviour descriptors for IEP"}),e.jsxs(B,{onClick:()=>xe(!0),variant:"outline",size:"sm",className:"flex items-center space-x-2",style:{borderColor:"#BDC3C7",color:"#3C3C3C"},children:[e.jsx(U,{className:"w-4 h-4"}),e.jsx("span",{children:"Filter"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(q,{children:[e.jsx(V,{children:e.jsxs(O,{className:"border-b-2",style:{borderColor:"#BDC3C7",backgroundColor:"#F8F9FA"},children:[e.jsx(y,{className:"w-16 text-center",style:{color:"#3C3C3C"},children:e.jsx(G,{checked:m.length>0&&m.every(n=>n.selected),onCheckedChange:n=>{m.forEach(c=>{be(c.id,n)})},className:"border-2 data-[state=checked]:bg-primary data-[state=checked]:border-primary",style:{borderColor:"#BDC3C7"}})}),e.jsx(y,{style:{color:"#3C3C3C"},children:"Date"}),e.jsx(y,{style:{color:"#3C3C3C"},children:"Time"}),e.jsx(y,{style:{color:"#3C3C3C"},children:"Source"}),e.jsx(y,{style:{color:"#3C3C3C"},children:"Action"}),e.jsx(y,{style:{color:"#3C3C3C"},children:"Trigger"}),e.jsx(y,{style:{color:"#3C3C3C"},children:"Source"}),e.jsx(y,{style:{color:"#3C3C3C"},children:e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{children:"IEP Goal"}),e.jsx(U,{className:"w-4 h-4",style:{color:"#6C757D"}})]})}),e.jsx(y,{style:{color:"#3C3C3C"},children:e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{children:"GCO"}),e.jsx(U,{className:"w-4 h-4",style:{color:"#6C757D"}})]})})]})}),e.jsx(L,{children:m==null?void 0:m.filter(n=>n.action&&n.action.trim()!==""&&n.action.toLowerCase()!=="null"&&n.trigger&&n.trigger.trim()!==""&&n.trigger.toLowerCase()!=="null").map((n,c,f)=>e.jsxs(O,{className:`${c<f.length-1?"border-b":""} cursor-pointer hover:bg-gray-50 transition-colors`,style:{borderColor:"#BDC3C7",backgroundColor:n.selected?"#e65039":"transparent"},onClick:C=>we(n,C),children:[e.jsx(i,{className:"text-center",children:e.jsx(G,{checked:n.selected,onCheckedChange:C=>be(n.id,C),className:"border-2 data-[state=checked]:bg-primary data-[state=checked]:border-primary",style:{borderColor:n.selected?"#e65039":"#BDC3C7",backgroundColor:n.selected?"#e65039":"transparent"}})}),e.jsx(i,{style:{color:n.selected?"white":"#3C3C3C"},children:n.date}),e.jsx(i,{style:{color:n.selected?"white":"#3C3C3C"},children:n.time}),e.jsx(i,{style:{color:n.selected?"white":"#3C3C3C"},children:n.source}),e.jsx(i,{style:{color:n.selected?"white":"#3C3C3C"},children:n.action}),e.jsx(i,{style:{color:n.selected?"white":"#3C3C3C"},children:n.trigger}),e.jsx(i,{style:{color:n.selected?"white":"#3C3C3C"},children:n.context}),e.jsx(i,{style:{color:n.selected?"white":"#3C3C3C"},children:n.iep_goal?`Goal ${t.iep_goals.findIndex(C=>{var N;return C.id===((N=n.iep_goal)==null?void 0:N.id)})+1}`:"N/A"}),e.jsxs(i,{style:{color:n.selected?"white":"#3C3C3C"},children:["GCO ",n.gco_classification]})]},n.id))})]})})]}),e.jsxs("div",{className:"flex justify-between items-center pt-4",children:[e.jsx(B,{onClick:Ke,className:"px-6 py-2 font-medium transition-all duration-200 hover:opacity-90",style:{backgroundColor:"#e65039",color:"white",borderColor:"#e65039"},children:"Add New BDs"}),e.jsx(B,{onClick:lt,className:"px-6 py-2 font-medium transition-all duration-200 hover:opacity-90",disabled:ve,style:{backgroundColor:"#e65039",color:"white",borderColor:"#e65039"},children:ve?"Generating...":"Generate Report"}),e.jsx(se,{open:D,onOpenChange:w,children:e.jsxs(ne,{className:"sm:max-w-md rounded-2xl bg-white shadow-lg border border-gray-200 p-6",children:[e.jsxs(oe,{className:"space-y-2",children:[e.jsxs(le,{className:"flex items-center gap-2 text-lg font-semibold text-gray-900",children:[e.jsx("span",{className:"text-yellow-500",children:"⚠️"}),"No Selection"]}),e.jsx(ce,{className:"text-gray-600",children:"Please select at least one behaviour descriptor before generating a report."})]}),e.jsx(Ie,{className:"mt-4",children:e.jsx(B,{onClick:()=>w(!1),className:"bg-yellow-500 hover:bg-yellow-600 text-white rounded-lg px-4",children:"Okay"})})]})})]})]})}),e.jsx(Ct,{isOpen:Qe,onClose:()=>ge(!1),onSubmit:tt,iepGoals:t.iep_goals,studentId:t.id}),e.jsx(gt,{isOpen:Xe,onClose:()=>Ve(!1),behaviourDescriptors:j||[],iepBehaviourDescriptors:m||[],onGenerate:dt}),e.jsx(Pe,{isOpen:ze,onClose:()=>fe(!1),onApplyFilters:at,onClearFilters:st,behaviorDescriptors:h||[],title:"GCO Behaviour Descriptors"}),e.jsx(Pe,{isOpen:Je,onClose:()=>xe(!1),onApplyFilters:nt,onClearFilters:ot,behaviorDescriptors:h||[],title:"IEP Behaviour Descriptors"})]})}export{Fr as StudentDetailPage};
