import{U as H,V as O,r as g,j as e,B as d,l as p,m as D,n as c,o as t,p as v,q as o,D as w,a as _,b as k,d as B,e as T}from"./index-C_w9ghux.js";import{A as P}from"./arrow-left-CIgKB0ZI.js";import{C as F}from"./camera-Bzog6XsL.js";import{T as $}from"./trash-2-D2UojCYO.js";function q({classData:n,onBack:m}){var h,j,y,u,N,f;const{data:l}=H(n.id),S=O(),[r,C]=g.useState(null),[A,i]=g.useState(!1),x=s=>{const a="first_name"in s&&"last_name"in s&&s.first_name&&s.last_name?`${s.first_name} ${s.last_name}`:String(s.id);C({name:a,photo:s.photo})};return e.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#F8F9FA"},children:[e.jsx("div",{className:"px-6 py-4",children:e.jsxs("div",{className:"mx-auto max-w-7xl",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(P,{className:"h-4 w-4",style:{color:"#e65039"}}),e.jsxs("span",{style:{color:"#e65039"},children:["Home > ",n.name]})]}),e.jsx(d,{onClick:m,className:"px-6 py-2 font-medium transition-all duration-200 hover:opacity-90",style:{backgroundColor:"#e65039",color:"white",borderColor:"#e65039"},children:"Back"})]}),e.jsx("div",{className:"mb-6",children:e.jsx("h2",{className:"text-2xl font-bold",style:{color:"#3C3C3C"},children:n.name})}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"mb-4 flex items-baseline justify-between",children:[e.jsx("h3",{className:"text-lg font-medium",style:{color:"#3C3C3C"},children:"Clients"}),e.jsxs("span",{className:"text-sm text-gray-500",children:[((h=l==null?void 0:l.students)==null?void 0:h.length)??0," total"]})]}),e.jsx("div",{className:"overflow-hidden rounded border bg-white",style:{borderColor:"#BDC3C7"},children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(p,{children:[e.jsx(D,{children:e.jsxs(c,{className:"border-b",style:{borderColor:"#BDC3C7",backgroundColor:"#F8F9FA"},children:[e.jsx(t,{className:"text-sm font-medium",style:{color:"#3C3C3C"},children:"#"}),e.jsx(t,{className:"text-sm font-medium",style:{color:"#3C3C3C"},children:"Name â†‘"}),e.jsx(t,{className:"text-sm font-medium",style:{color:"#3C3C3C"},children:"Age"}),e.jsx(t,{className:"text-sm font-medium",style:{color:"#3C3C3C"},children:"Gender"}),e.jsx(t,{className:"text-sm font-medium",style:{color:"#3C3C3C"},children:"ID"}),e.jsx(t,{className:"text-sm font-medium",style:{color:"#3C3C3C"},children:"Primary Diagnosis"}),e.jsx(t,{className:"text-sm font-medium",style:{color:"#3C3C3C"},children:"Secondary Diagnosis"}),e.jsx(t,{className:"text-sm font-medium",style:{color:"#3C3C3C"},children:"Date of Enrolment"}),e.jsx(t,{className:"text-sm font-medium",style:{color:"#3C3C3C"},children:"CT"}),e.jsx(t,{className:"text-sm font-medium",style:{color:"#3C3C3C"},children:"Photo"})]})}),e.jsxs(v,{children:[(j=l==null?void 0:l.students)==null?void 0:j.map((s,a)=>{var b;return e.jsxs(c,{className:`${a<l.students.length-1?"border-b":""} transition-colors hover:bg-gray-50`,style:{borderColor:"#BDC3C7"},children:[e.jsx(o,{className:"text-sm",style:{color:"#3C3C3C"},children:a+1}),e.jsx(o,{className:"text-sm font-medium",style:{color:"#3C3C3C"},children:s.name}),e.jsx(o,{className:"text-sm",style:{color:"#3C3C3C"},children:s.chronological_age}),e.jsx(o,{className:"text-sm",style:{color:"#3C3C3C"},children:s.gender}),e.jsx(o,{className:"text-sm",style:{color:"#3C3C3C"},children:s.id_number}),e.jsx(o,{className:"text-sm",style:{color:"#3C3C3C"},children:s.primary_diagnosis}),e.jsx(o,{className:"text-sm",style:{color:"#3C3C3C"},children:s.secondary_diagnosis}),e.jsx(o,{className:"text-sm",style:{color:"#3C3C3C"},children:s.date_of_enrollment}),e.jsx(o,{className:"text-sm",style:{color:"#3C3C3C"},children:(b=s.ct)==null?void 0:b.first_name}),e.jsx(o,{children:e.jsx("button",{onClick:()=>x(s),className:"flex h-8 w-10 items-center justify-center rounded border border-red-500 bg-red-50 transition-colors hover:bg-red-100",children:e.jsx(F,{className:"h-4 w-4",style:{color:"#DC3545"}})})})]},s.id)}),!((y=l==null?void 0:l.students)!=null&&y.length)&&e.jsx(c,{children:e.jsx(o,{colSpan:10,className:"py-6 text-center text-sm text-gray-500",children:"No clients found."})})]})]})})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"mb-4 flex items-baseline justify-between",children:[e.jsx("h3",{className:"text-lg font-medium",style:{color:"#3C3C3C"},children:"Team members"}),e.jsxs("span",{className:"text-sm text-gray-500",children:[((u=l==null?void 0:l.users)==null?void 0:u.length)??0," total"]})]}),e.jsx("div",{className:"overflow-hidden rounded border bg-white",style:{borderColor:"#BDC3C7"},children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(p,{children:[e.jsx(D,{children:e.jsxs(c,{className:"border-b",style:{borderColor:"#BDC3C7",backgroundColor:"#F8F9FA"},children:[e.jsx(t,{className:"text-sm font-medium",style:{color:"#3C3C3C"},children:"#"}),e.jsx(t,{className:"text-sm font-medium",style:{color:"#3C3C3C"},children:"Name"}),e.jsx(t,{className:"text-sm font-medium",style:{color:"#3C3C3C"},children:"Gender"}),e.jsx(t,{className:"text-sm font-medium",style:{color:"#3C3C3C"},children:"ID"}),e.jsx(t,{className:"text-sm font-medium",style:{color:"#3C3C3C"},children:"Role"}),e.jsx(t,{className:"text-sm font-medium",style:{color:"#3C3C3C"},children:"Specialisation"}),e.jsx(t,{className:"text-sm font-medium",style:{color:"#3C3C3C"},children:"Date of Joining"}),e.jsx(t,{className:"text-sm font-medium",style:{color:"#3C3C3C"},children:"Photo"})]})}),e.jsxs(v,{children:[(N=l==null?void 0:l.users)==null?void 0:N.map((s,a)=>e.jsxs(c,{className:`${a<l.users.length-1?"border-b":""} transition-colors hover:bg-gray-50`,style:{borderColor:"#BDC3C7"},children:[e.jsx(o,{className:"text-sm",style:{color:"#3C3C3C"},children:a+1}),e.jsxs(o,{className:"text-sm font-medium",style:{color:"#3C3C3C"},children:[s.first_name," ",s.last_name]}),e.jsx(o,{className:"text-sm",style:{color:"#3C3C3C"},children:s.gender}),e.jsx(o,{className:"text-sm",style:{color:"#3C3C3C"},children:s.id_number}),e.jsx(o,{className:"text-sm",style:{color:"#3C3C3C"},children:s.role}),e.jsx(o,{className:"text-sm",style:{color:"#3C3C3C"},children:s.specialization}),e.jsx(o,{className:"text-sm",style:{color:"#3C3C3C"},children:s.date_of_joining}),e.jsx(o,{children:e.jsx("button",{onClick:()=>x(s),className:"flex h-8 w-10 items-center justify-center rounded border border-red-500 bg-red-50 transition-colors hover:bg-red-100",children:e.jsx(F,{className:"h-4 w-4",style:{color:"#DC3545"}})})})]},s.id)),!((f=l==null?void 0:l.users)!=null&&f.length)&&e.jsx(c,{children:e.jsx(o,{colSpan:8,className:"py-6 text-center text-sm text-gray-500",children:"No team members found."})})]})]})})})]})]})}),e.jsx("div",{className:"px-6 pb-8",children:e.jsx("div",{className:"mx-auto max-w-7xl flex justify-end",children:e.jsxs(d,{onClick:()=>i(!0),className:"px-6 py-2 font-medium transition-all duration-200 hover:opacity-90",style:{backgroundColor:"#DC3545",color:"white",borderColor:"#DC3545"},children:[e.jsx($,{className:"mr-2 h-4 w-4"}),"Delete Class"]})})}),e.jsx(w,{open:A,onOpenChange:i,children:e.jsxs(_,{className:"max-w-md rounded-lg border-2 bg-white",style:{borderColor:"#BDC3C7"},children:[e.jsxs(k,{children:[e.jsx(B,{style:{color:"#3C3C3C"},children:"Delete class?"}),e.jsxs(T,{style:{color:"#6C757D"},children:['This action cannot be undone. Do you want to permanently delete the class "',n.name,'"?']})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[e.jsx(d,{onClick:()=>i(!1),className:"px-4 py-2 border-2 transition-all duration-200",style:{backgroundColor:"white",borderColor:"#BDC3C7",color:"#3C3C3C"},children:"Cancel"}),e.jsx(d,{onClick:()=>{console.log("Deleted class:",n),S.mutate(n.id),i(!1),m()},className:"px-4 py-2 transition-all duration-200",style:{backgroundColor:"#DC3545",color:"white",border:"none"},children:"Delete"})]})]})}),e.jsx(w,{open:!!r,onOpenChange:s=>!s&&C(null),children:e.jsxs(_,{className:"max-w-lg rounded-lg border-2 bg-white",style:{borderColor:"#BDC3C7"},children:[e.jsxs(k,{children:[e.jsx(B,{style:{color:"#3C3C3C"},children:r==null?void 0:r.name}),e.jsx(T,{style:{color:"#6C757D"},children:"Photo preview"})]}),e.jsx("div",{className:"flex items-center justify-center",children:r!=null&&r.photo?e.jsx("img",{src:r.photo,alt:r.name,className:"max-h-[60vh] max-w-full rounded"}):e.jsx("p",{className:"py-8 text-sm text-gray-500",children:"No photo available."})})]})})]})}export{q as ClassDetailPage};
