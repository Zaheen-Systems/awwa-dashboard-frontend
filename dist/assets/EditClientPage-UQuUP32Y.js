import{r as y,j as e,B as C,L as o,I as s,S as j,f as N,g as v,h as f,i}from"./index-yY4tkBTS.js";import{U as w}from"./user-CmEeGpYq.js";import{U as D}from"./upload-BQ3yuXU5.js";function E({client:n,onBack:u,onSave:h}){const[a,x]=y.useState({...n,email:n.email||"",dob:n.dob||"",guardianName:n.guardianName||"",guardianContact:n.guardianContact||"",dateOfEnrollment:n.dateOfEnrollment||new Date().toISOString().split("T")[0]}),r=(l,t)=>{x(d=>({...d,[l]:t}))},b=l=>{l.preventDefault(),h(a)},g=()=>{const l=document.createElement("input");l.type="file",l.accept="image/*",l.style.display="none",l.onchange=t=>{var m;const d=(m=t.target.files)==null?void 0:m[0];if(d){const p=URL.createObjectURL(d);r("photoUrl",p),console.log("Photo uploaded:",d.name)}},document.body.appendChild(l),l.click(),document.body.removeChild(l)},c=!n.name||n.id===Date.now()||n.name==="";return e.jsx("div",{className:"flex-1 px-6 py-8",style:{backgroundColor:"#F8F9FA"},children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("div",{className:"bg-white px-4 py-2 border",style:{borderColor:"#e65039"},children:e.jsx("h2",{className:"text-lg font-bold",style:{color:"#3C3C3C"},children:c?"Add New Client":"Edit Client"})}),e.jsx(C,{onClick:u,className:"px-6 py-2 rounded-lg transition-all duration-200 hover:opacity-90",style:{backgroundColor:"#e65039",color:"white",border:"none"},children:"Back"})]}),e.jsx("div",{className:"bg-white p-8 rounded-lg shadow-sm",children:e.jsxs("form",{onSubmit:b,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"name",className:"block mb-2",style:{color:"#3C3C3C"},children:"Name"}),e.jsx(s,{id:"name",type:"text",value:a.name,onChange:l=>r("name",l.target.value),className:"w-full border-2 px-3 py-2 rounded-none",style:{borderColor:"#BDC3C7"},required:!0})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"dob",className:"block mb-2",style:{color:"#3C3C3C"},children:"DOB"}),e.jsx(s,{id:"dob",type:"date",value:a.dob,onChange:l=>r("dob",l.target.value),className:"w-full border-2 px-3 py-2 rounded-none",style:{borderColor:"#BDC3C7"},placeholder:"dd/mm/yyyy"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"primaryDiagnosis",className:"block mb-2",style:{color:"#3C3C3C"},children:"Primary Diagnosis"}),e.jsx(s,{id:"primaryDiagnosis",type:"text",value:a.primaryDiagnosis,onChange:l=>r("primaryDiagnosis",l.target.value),className:"w-full border-2 px-3 py-2 rounded-none",style:{borderColor:"#BDC3C7"}})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"guardianName",className:"block mb-2",style:{color:"#3C3C3C"},children:"Guardian Name"}),e.jsx(s,{id:"guardianName",type:"text",value:a.guardianName,onChange:l=>r("guardianName",l.target.value),className:"w-full border-2 px-3 py-2 rounded-none",style:{borderColor:"#BDC3C7"}})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"email",className:"block mb-2",style:{color:"#3C3C3C"},children:"Email"}),e.jsx(s,{id:"email",type:"email",value:a.email,onChange:l=>r("email",l.target.value),className:"w-full border-2 px-3 py-2 rounded-none",style:{borderColor:"#BDC3C7"}})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"age",className:"block mb-2",style:{color:"#3C3C3C"},children:"Age"}),e.jsx(s,{id:"age",type:"number",value:a.age,onChange:l=>r("age",parseInt(l.target.value)||0),className:"w-full border-2 px-3 py-2 rounded-none",style:{borderColor:"#BDC3C7"},min:"0"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"gender",className:"block mb-2",style:{color:"#3C3C3C"},children:"Gender"}),e.jsxs(j,{value:a.gender,onValueChange:l=>r("gender",l),children:[e.jsx(N,{className:"w-full border-2 rounded-none",style:{borderColor:"#BDC3C7"},children:e.jsx(v,{placeholder:"Select gender"})}),e.jsxs(f,{className:"bg-white border border-gray-200 shadow-lg rounded-md",style:{backgroundColor:"white",borderColor:"#BDC3C7",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"},children:[e.jsx(i,{value:"M",className:"hover:bg-gray-100 focus:bg-gray-100",style:{color:"#3C3C3C"},children:"Male"}),e.jsx(i,{value:"F",className:"hover:bg-gray-100 focus:bg-gray-100",style:{color:"#3C3C3C"},children:"Female"}),e.jsx(i,{value:"Other",className:"hover:bg-gray-100 focus:bg-gray-100",style:{color:"#3C3C3C"},children:"Other"})]})]})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"secondaryDiagnosis",className:"block mb-2",style:{color:"#3C3C3C"},children:"Secondary Diagnosis"}),e.jsx(s,{id:"secondaryDiagnosis",type:"text",value:a.secondaryDiagnosis,onChange:l=>r("secondaryDiagnosis",l.target.value),className:"w-full border-2 px-3 py-2 rounded-none",style:{borderColor:"#BDC3C7"}})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"guardianContact",className:"block mb-2",style:{color:"#3C3C3C"},children:"Guardian Contact"}),e.jsx(s,{id:"guardianContact",type:"tel",value:a.guardianContact,onChange:l=>r("guardianContact",l.target.value),className:"w-full border-2 px-3 py-2 rounded-none",style:{borderColor:"#BDC3C7"}})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"dateOfEnrollment",className:"block mb-2",style:{color:"#3C3C3C"},children:"Date of Enrollment"}),e.jsx(s,{id:"dateOfEnrollment",type:"date",value:a.dateOfEnrollment,onChange:l=>r("dateOfEnrollment",l.target.value),className:"w-full border-2 px-3 py-2 rounded-none",style:{borderColor:"#BDC3C7"}})]})]})]}),e.jsxs("div",{className:"flex flex-col items-center space-y-4 py-6",children:[e.jsxs("div",{className:"w-16 h-16 rounded-full bg-gray-100 flex items-center justify-center overflow-hidden border-2",style:{borderColor:"#BDC3C7"},children:[a.photoUrl?e.jsx("img",{src:a.photoUrl,alt:`${a.name}'s photo`,className:"w-full h-full object-cover",onError:l=>{var t;l.target.style.display="none",(t=l.target.nextElementSibling)==null||t.classList.remove("hidden")}}):null,e.jsx(w,{className:`w-8 h-8 ${a.photoUrl?"hidden":""}`,style:{color:"#BDC3C7"}})]}),e.jsxs("button",{type:"button",onClick:g,className:"flex items-center space-x-2 px-4 py-2 border-2 rounded-lg transition-all duration-200 hover:bg-blue-50",style:{borderColor:"#e65039",color:"#e65039",backgroundColor:"white"},children:[e.jsx(D,{className:"w-4 h-4"}),e.jsx("span",{children:"Change photo"})]})]}),e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsx(o,{htmlFor:"idNumber",className:"block mb-2",style:{color:"#3C3C3C"},children:"ID Number"}),e.jsx(s,{id:"idNumber",type:"text",value:a.idNumber,onChange:l=>r("idNumber",l.target.value),className:"w-full border-2 px-3 py-2 rounded-none",style:{borderColor:"#BDC3C7"},placeholder:"Auto-generated or manual entry"})]}),e.jsx("div",{className:"space-y-3 pt-4",children:e.jsx(C,{type:"submit",className:"w-full px-4 py-3 rounded-none transition-all duration-200 hover:opacity-90",style:{backgroundColor:"#e65039",color:"white",border:"none"},children:c?"Create Client":"Update Client"})}),e.jsx("div",{className:"mt-6 pt-4",children:e.jsx("div",{className:"bg-blue-50 px-4 py-3 border-l-4 rounded-r",style:{borderColor:"#e65039"},children:e.jsx("p",{className:"text-sm",style:{color:"#3C3C3C"},children:"ℹ️ Client information will be used for personalized care plans and progress tracking"})})})]})})]})})}export{E as EditClientPage};
